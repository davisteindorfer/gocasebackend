  [1m[35m (687.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (337.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1478133473495704620)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20200615215508)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (172.5ms)[0m  [1m[35mCREATE TABLE "orders" ("reference" character varying NOT NULL, "purchase_channel" character varying NOT NULL, "client_name" character varying NOT NULL, "adress" character varying NOT NULL, "delivery_service" character varying NOT NULL, "total_value" character varying NOT NULL, "line_items" character varying NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (68.4ms)[0m  [1m[35mALTER TABLE orders ADD PRIMARY KEY (reference);[0m
  [1m[36mprimary::SchemaMigration Create (38.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200615215508"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBatches (20200615220732)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (84.5ms)[0m  [1m[35mCREATE TABLE "batches" ("reference" character varying NOT NULL, "purchase_channel" character varying NOT NULL, "group_of_orders" text[] NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (152.0ms)[0m  [1m[35mALTER TABLE orders ADD PRIMARY KEY (reference);[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1478133473495704620)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1478133473495704620)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBatches (20200615220732)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (64.0ms)[0m  [1m[35mCREATE TABLE "batches" ("reference" character varying NOT NULL, "purchase_channel" character varying NOT NULL, "group_of_orders" text[] NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (58.6ms)[0m  [1m[35mALTER TABLE batches ADD PRIMARY KEY (reference);[0m
  [1m[36mprimary::SchemaMigration Create (34.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200615220732"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (22.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-06-15 23:00:43.521215"], ["updated_at", "2020-06-15 23:00:43.521215"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1478133473495704620)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2020-06-15 21:56:27 -0300
  [1m[35m (12.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/davibessa/.rvm/gems/ruby-2.7.1/gems/railties-6.0.3.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/davibessa/.rvm/gems/ruby-2.7.1/gems/railties-6.0.3.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 546.8ms | Allocations: 406)
Completed 200 OK in 835ms (Views: 761.1ms | ActiveRecord: 0.0ms | Allocations: 2236)


Started GET "/favicon.ico" for ::1 at 2020-06-15 21:56:30 -0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2020-06-15 21:57:07 -0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/davibessa/.rvm/gems/ruby-2.7.1/gems/railties-6.0.3.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/davibessa/.rvm/gems/ruby-2.7.1/gems/railties-6.0.3.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 7.1ms | Allocations: 179)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms | Allocations: 726)


Started GET "/favicon.ico" for ::1 at 2020-06-15 21:57:08 -0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/orders" for ::1 at 2020-06-15 22:03:24 -0300
  
ActionController::RoutingError (uninitialized constant Api::V1::OrdersController
Did you mean?  Api::V1::OrdersControler):
  
actionpack (6.0.3.1) lib/action_dispatch/http/request.rb:92:in `rescue in controller_class_for'
actionpack (6.0.3.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.3.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

(
	"reference": "1"
	"purchase_channel": "site br"
	"client_name": "rogerio lima"
	"adress": "Rua Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041"
	"delivery_service": "SEDEX"
	"total_value": "R$ 123.30"
	"line_items": "sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"
	"status": "ready"
	)
Started POST "/api/v1/orders" for ::1 at 2020-06-15 22:05:27 -0300
Error occurred while parsing request parameters.
Contents:

(
	"reference": "1"
	"purchase_channel": "site br"
	"client_name": "rogerio lima"
	"adress": "Rua Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041"
	"delivery_service": "SEDEX"
	"total_value": "R$ 123.30"
	"line_items": "sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"
	"status": "ready"
	)
  
ActionDispatch::Http::Parameters::ParseError (783: unexpected token at '(
	"reference": "1"
	"purchase_channel": "site br"
	"client_name": "rogerio lima"
	"adress": "Rua Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041"
	"delivery_service": "SEDEX"
	"total_value": "R$ 123.30"
	"line_items": "sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"
	"status": "ready"
	)'):
  
actionpack (6.0.3.1) lib/action_dispatch/http/parameters.rb:114:in `rescue in parse_formatted_parameters'
actionpack (6.0.3.1) lib/action_dispatch/http/parameters.rb:110:in `parse_formatted_parameters'
actionpack (6.0.3.1) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.2) lib/rack/request.rb:69:in `fetch'
rack (2.2.2) lib/rack/request.rb:69:in `fetch_header'
actionpack (6.0.3.1) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (6.0.3.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.3.1) lib/action_controller/metal/params_wrapper.rb:278:in `_wrapper_enabled?'
actionpack (6.0.3.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.3.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.1) lib/abstract_controller/base.rb:136:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

(
	"reference": "1"
	"purchase_channel": "site br"
	"client_name": "rogerio lima"
	"adress": "Rua Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041"
	"delivery_service": "SEDEX"
	"total_value": "R$ 123.30"
	"line_items": "sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"
	"status": "ready"
	)
Started POST "/api/v1/orders_controller" for ::1 at 2020-06-15 22:07:49 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/orders_controller"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

(
	"reference": "1"
	"purchase_channel": "site br"
	"client_name": "rogerio lima"
	"adress": "Rua Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041"
	"delivery_service": "SEDEX"
	"total_value": "R$ 123.30"
	"line_items": "sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"
	"status": "ready"
	)
Started POST "/api/v1/orders" for ::1 at 2020-06-15 22:08:01 -0300
Error occurred while parsing request parameters.
Contents:

(
	"reference": "1"
	"purchase_channel": "site br"
	"client_name": "rogerio lima"
	"adress": "Rua Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041"
	"delivery_service": "SEDEX"
	"total_value": "R$ 123.30"
	"line_items": "sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"
	"status": "ready"
	)
  
ActionDispatch::Http::Parameters::ParseError (783: unexpected token at '(
	"reference": "1"
	"purchase_channel": "site br"
	"client_name": "rogerio lima"
	"adress": "Rua Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041"
	"delivery_service": "SEDEX"
	"total_value": "R$ 123.30"
	"line_items": "sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"
	"status": "ready"
	)'):
  
actionpack (6.0.3.1) lib/action_dispatch/http/parameters.rb:114:in `rescue in parse_formatted_parameters'
actionpack (6.0.3.1) lib/action_dispatch/http/parameters.rb:110:in `parse_formatted_parameters'
actionpack (6.0.3.1) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.2) lib/rack/request.rb:69:in `fetch'
rack (2.2.2) lib/rack/request.rb:69:in `fetch_header'
actionpack (6.0.3.1) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (6.0.3.1) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (6.0.3.1) lib/action_controller/metal/params_wrapper.rb:278:in `_wrapper_enabled?'
actionpack (6.0.3.1) lib/action_controller/metal/params_wrapper.rb:244:in `process_action'
activerecord (6.0.3.1) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.1) lib/abstract_controller/base.rb:136:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

(
	"reference": "1"
	"purchase_channel": "site br"
	"client_name": "rogerio lima"
	"adress": "Rua Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041"
	"delivery_service": "SEDEX"
	"total_value": "R$ 123.30"
	"line_items": "sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"
	"status": "ready"
	)
Started POST "/api/v1/orders" for ::1 at 2020-06-15 22:09:51 -0300
Processing by Api::V1::OrdersController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "client_name"=>"rogerio lima", "adress"=>"Rua Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041", "delivery_service"=>"SEDEX", "total_value"=>"R$ 123.30", "line_items"=>"sku: case-my-best-friend, model: iPhone X, case type: Rose Leather", "status"=>"ready", "order"=>{"reference"=>"1", "purchase_channel"=>"site br", "client_name"=>"rogerio lima", "adress"=>"Rua Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041", "delivery_service"=>"SEDEX", "total_value"=>"R$ 123.30", "line_items"=>"sku: case-my-best-friend, model: iPhone X, case type: Rose Leather", "status"=>"ready"}}
[31mUnpermitted parameter: :order[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `create'
  [1m[36mOrder Create (364.9ms)[0m  [1m[32mINSERT INTO "orders" ("reference", "purchase_channel", "client_name", "adress", "delivery_service", "total_value", "line_items", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "reference"[0m  [["reference", "1"], ["purchase_channel", "site br"], ["client_name", "rogerio lima"], ["adress", "Rua Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041"], ["delivery_service", "SEDEX"], ["total_value", "R$ 123.30"], ["line_items", "sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"], ["status", "ready"], ["created_at", "2020-06-16 01:09:51.643909"], ["updated_at", "2020-06-16 01:09:51.643909"]]
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `create'
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `create'
Completed 200 OK in 450ms (Views: 0.4ms | ActiveRecord: 470.1ms | Allocations: 8522)


Started GET "/api/v1/articles/rogerio" for ::1 at 2020-06-15 23:29:44 -0300
  [1m[35m (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api/v1/articles/rogerio"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/articles/rogerio%20lima" for ::1 at 2020-06-15 23:30:03 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/articles/rogerio%20lima"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/articles/rogerio_lima" for ::1 at 2020-06-15 23:30:12 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/articles/rogerio_lima"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/articles/rogerio" for ::1 at 2020-06-15 23:30:16 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/articles/rogerio"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/articles/1" for ::1 at 2020-06-15 23:31:07 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/articles/1"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-15 23:31:19 -0300
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/orders_controller.rb:22: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/api/v1/orders_controller.rb:22: syntax error, unexpected end-of-input, expecting `end'
app/controllers/api/v1/orders_controller.rb:22: syntax error, unexpected end-of-input, expecting `end'
Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-15 23:31:44 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
Completed 404 Not Found in 46ms (ActiveRecord: 112.4ms | Allocations: 514)


  
ActiveRecord::RecordNotFound (Couldn't find Order without an ID):
  
app/controllers/api/v1/orders_controller.rb:5:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-15 23:32:06 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
Completed 404 Not Found in 2ms (ActiveRecord: 3.6ms | Allocations: 207)


  
ActiveRecord::RecordNotFound (Couldn't find Order without an ID):
  
app/controllers/api/v1/orders_controller.rb:5:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-15 23:32:31 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (76.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:5:in `show'
Completed 200 OK in 168ms (Views: 0.5ms | ActiveRecord: 80.5ms | Allocations: 6449)


Started GET "/api/v1/orders/2" for ::1 at 2020-06-15 23:32:45 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"2", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "2"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:5:in `show'
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 651)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'reference'=2):
  
app/controllers/api/v1/orders_controller.rb:5:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-15 23:32:54 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:5:in `show'
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 863)


Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-15 23:33:02 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "rogerio"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:5:in `show'
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 638)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'reference'=rogerio):
  
app/controllers/api/v1/orders_controller.rb:5:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-15 23:34:41 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:5:in `show'
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 865)


Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 19:43:14 -0300
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
  [1m[36mOrder Load (2.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 44ms (Views: 33.4ms | ActiveRecord: 13.8ms | Allocations: 6586)


Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 19:43:34 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1141)


Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 19:43:39 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1141)


Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 19:43:43 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 1141)


Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 19:43:44 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 1142)


Started GET "/api/v1/orders/" for ::1 at 2020-06-16 19:43:48 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::V1::OrdersController):
  
actionpack (6.0.3.1) lib/abstract_controller/base.rb:131:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/orders/a" for ::1 at 2020-06-16 19:43:50 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"a", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1122)


Started GET "/api/v1/orders/3" for ::1 at 2020-06-16 19:43:53 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"3", "order"=>{}}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 1123)


Started GET "/api/v1/orders/" for ::1 at 2020-06-16 19:44:01 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::V1::OrdersController):
  
actionpack (6.0.3.1) lib/abstract_controller/base.rb:131:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/orders/o" for ::1 at 2020-06-16 19:44:05 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"o", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 1122)


Started GET "/api/v1/orders/" for ::1 at 2020-06-16 19:44:11 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::V1::OrdersController):
  
actionpack (6.0.3.1) lib/abstract_controller/base.rb:131:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/orders/" for ::1 at 2020-06-16 19:44:20 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::V1::OrdersController):
  
actionpack (6.0.3.1) lib/abstract_controller/base.rb:131:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/orders/a" for ::1 at 2020-06-16 19:44:22 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"a", "order"=>{}}
  [1m[36mOrder Load (310.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (a)[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 500 Internal Server Error in 312ms (ActiveRecord: 311.9ms | Allocations: 1051)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column "a" does not exist
LINE 1: SELECT "orders".* FROM "orders" WHERE (a)
                                               ^
):
  
app/controllers/api/v1/orders_controller.rb:6:in `show'
Started GET "/api/v1/orders/rogeio" for ::1 at 2020-06-16 19:44:28 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogeio", "order"=>{}}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (rogeio)[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.6ms | Allocations: 981)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column "rogeio" does not exist
LINE 1: SELECT "orders".* FROM "orders" WHERE (rogeio)
                                               ^
):
  
app/controllers/api/v1/orders_controller.rb:6:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 19:44:30 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (17.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE (1)[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 17.8ms | Allocations: 981)


  
ActiveRecord::StatementInvalid (PG::DatatypeMismatch: ERROR:  argument of WHERE must be type boolean, not type integer
LINE 1: SELECT "orders".* FROM "orders" WHERE (1)
                                               ^
):
  
app/controllers/api/v1/orders_controller.rb:6:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 19:44:52 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (6.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:5:in `show'
Completed 200 OK in 242ms (Views: 0.6ms | ActiveRecord: 26.6ms | Allocations: 6213)


Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 19:44:55 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "rogerio"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:5:in `show'
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 635)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'reference'=rogerio):
  
app/controllers/api/v1/orders_controller.rb:5:in `show'
Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 19:48:16 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
Completed 404 Not Found in 2ms (ActiveRecord: 3.5ms | Allocations: 203)


  
ActiveRecord::RecordNotFound (Couldn't find Order without an ID):
  
app/controllers/api/v1/orders_controller.rb:5:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 19:48:20 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 131)


  
ActiveRecord::RecordNotFound (Couldn't find Order without an ID):
  
app/controllers/api/v1/orders_controller.rb:5:in `show'
Started GET "/api/v1/orders/" for ::1 at 2020-06-16 19:48:24 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::V1::OrdersController):
  
actionpack (6.0.3.1) lib/abstract_controller/base.rb:131:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 19:48:30 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 131)


  
ActiveRecord::RecordNotFound (Couldn't find Order without an ID):
  
app/controllers/api/v1/orders_controller.rb:5:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 19:48:37 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 131)


  
ActiveRecord::RecordNotFound (Couldn't find Order without an ID):
  
app/controllers/api/v1/orders_controller.rb:5:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 19:48:55 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 1.8ms | Allocations: 118)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/api/v1/orders_controller.rb:5:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 19:49:21 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 3.8ms | Allocations: 6083)


Started GET "/api/v1/orders/" for ::1 at 2020-06-16 19:49:24 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::V1::OrdersController):
  
actionpack (6.0.3.1) lib/abstract_controller/base.rb:131:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/orders/5" for ::1 at 2020-06-16 19:49:26 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"5", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 1122)


Started GET "/api/v1/orders/-" for ::1 at 2020-06-16 19:49:29 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"-", "order"=>{}}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.4ms | Allocations: 1123)


Started GET "/api/v1/orders/'" for ::1 at 2020-06-16 19:49:33 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"'", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 1123)


Started GET "/api/v1/orders/+" for ::1 at 2020-06-16 19:49:45 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"+", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1123)


Started GET "/api/v1/orders/" for ::1 at 2020-06-16 19:49:47 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::V1::OrdersController):
  
actionpack (6.0.3.1) lib/abstract_controller/base.rb:131:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 19:49:54 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1122)


Started GET "/api/v1/orders/rogerio%20lima" for ::1 at 2020-06-16 19:50:05 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio lima", "order"=>{}}
Completed 404 Not Found in 2ms (ActiveRecord: 3.3ms | Allocations: 199)


  
ActiveRecord::RecordNotFound (Couldn't find Order without an ID):
  
app/controllers/api/v1/orders_controller.rb:5:in `show'
Started GET "/api/v1/orders/rogerio%20lima" for ::1 at 2020-06-16 19:50:15 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio lima", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "rogerio lima"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:5:in `show'
Completed 404 Not Found in 4ms (ActiveRecord: 3.7ms | Allocations: 812)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'reference'=rogerio lima):
  
app/controllers/api/v1/orders_controller.rb:5:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 19:50:19 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:5:in `show'
Completed 200 OK in 17ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 5738)


Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 19:59:27 -0300
  
NameError (undefined local variable or method `map' for #<ActionDispatch::Routing::Mapper:0x00007f0b48adfe80>
Did you mean?  tap):
  
config/routes.rb:2:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/api/v1/orders/" for ::1 at 2020-06-16 20:03:21 -0300
Processing by Api::V1::OrdersController#index as */*
  Parameters: {"order"=>{}}
Completed 500 Internal Server Error in 103ms (ActiveRecord: 0.0ms | Allocations: 59544)


  
NameError (undefined local variable or method `order' for #<Api::V1::OrdersController:0x00007fffd19849e0>):
  
app/controllers/api/v1/orders_controller.rb:6:in `index'
Started GET "/api/v1/orders/" for ::1 at 2020-06-16 20:03:49 -0300
Processing by Api::V1::OrdersController#index as */*
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (163.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 178ms (Views: 11.7ms | ActiveRecord: 177.7ms | Allocations: 6128)


Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 20:03:55 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 1002)


Started GET "/api/v1/orders/2" for ::1 at 2020-06-16 20:04:01 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"2", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "2"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 635)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'reference'=2):
  
app/controllers/api/v1/orders_controller.rb:9:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 20:04:04 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 862)


Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 20:10:17 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (2.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2)[0m  [["reference", "1"], ["reference", "client_name"]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 404 Not Found in 15ms (ActiveRecord: 2.2ms | Allocations: 5848)


  
ActiveRecord::RecordNotFound (Couldn't find all Orders with 'reference': (1, client_name) (found 1 results, but was looking for 2).):
  
app/controllers/api/v1/orders_controller.rb:9:in `show'
Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 20:10:33 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2)[0m  [["reference", "rogerio"], ["reference", "client_name"]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms | Allocations: 870)


  
ActiveRecord::RecordNotFound (Couldn't find all Orders with 'reference': (rogerio, client_name) (found 0 results, but was looking for 2).):
  
app/controllers/api/v1/orders_controller.rb:9:in `show'
Started GET "/api/v1/orders/" for ::1 at 2020-06-16 20:11:34 -0300
Processing by Api::V1::OrdersController#index as */*
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 15ms (Views: 10.1ms | ActiveRecord: 14.4ms | Allocations: 6071)


Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 20:11:39 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 101)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/api/v1/orders_controller.rb:9:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 20:11:49 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 101)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/api/v1/orders_controller.rb:9:in `show'
Started GET "/api/v1/orders/show/rogerio" for ::1 at 2020-06-16 20:11:59 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/orders/show/rogerio"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 20:12:04 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 101)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/api/v1/orders_controller.rb:9:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 20:12:14 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 2.1ms | Allocations: 118)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/api/v1/orders_controller.rb:9:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 20:12:26 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.8ms | Allocations: 3167)


  
NoMethodError (undefined method `find_by_name' for #<Class:0x00007f0b4829d330>
Did you mean?  find_by):
  
app/controllers/api/v1/orders_controller.rb:9:in `show'
Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 20:12:36 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 3145)


  
NoMethodError (undefined method `find_by_name' for #<Class:0x00007f0b4829d330>
Did you mean?  find_by):
  
app/controllers/api/v1/orders_controller.rb:9:in `show'
Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 20:12:45 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 3.8ms | Allocations: 5977)


Started GET "/api/v1/orders/" for ::1 at 2020-06-16 20:12:48 -0300
Processing by Api::V1::OrdersController#index as */*
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1127)


Started GET "/api/v1/orders/3" for ::1 at 2020-06-16 20:12:50 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"3", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 983)


Started GET "/api/v1/orders/2" for ::1 at 2020-06-16 20:12:52 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"2", "order"=>{}}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 983)


Started GET "/api/v1/orders/grthfn" for ::1 at 2020-06-16 20:12:54 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"grthfn", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 983)


Started GET "/api/v1/orders/+" for ::1 at 2020-06-16 20:12:58 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"+", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 983)


Started GET "/api/v1/orders/" for ::1 at 2020-06-16 20:19:06 -0300
Processing by Api::V1::OrdersController#index as */*
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (1.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 1.8ms | Allocations: 6053)


Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 20:19:08 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 909)


Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 20:19:11 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 835)


Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 20:19:13 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 834)


Started GET "/api/v1/orders/rogerio" for ::1 at 2020-06-16 20:19:25 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:5:in `show'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 11.1ms | Allocations: 926)


Started GET "/api/v1/orders/rogerio%20lima" for ::1 at 2020-06-16 20:19:34 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio lima", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:5:in `show'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 834)


Started GET "/api/v1/orders/rogerio_lima" for ::1 at 2020-06-16 20:19:37 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"rogerio_lima", "order"=>{}}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:5:in `show'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 834)


Started GET "/api/v1/orders/" for ::1 at 2020-06-16 20:19:40 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::V1::OrdersController):
  
actionpack (6.0.3.1) lib/abstract_controller/base.rb:131:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 20:19:43 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:5:in `show'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 833)


Started GET "/api/v1/orders/2" for ::1 at 2020-06-16 20:19:45 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"2", "order"=>{}}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:5:in `show'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 834)


Started GET "/api/v1/orders/2" for ::1 at 2020-06-16 20:19:56 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"2", "order"=>{}}
Completed 404 Not Found in 4ms (ActiveRecord: 5.3ms | Allocations: 199)


  
ActiveRecord::RecordNotFound (Couldn't find Order without an ID):
  
app/controllers/api/v1/orders_controller.rb:9:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 20:19:58 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 131)


  
ActiveRecord::RecordNotFound (Couldn't find Order without an ID):
  
app/controllers/api/v1/orders_controller.rb:9:in `show'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-16 20:20:33 -0300
Processing by Api::V1::OrdersController#show as */*
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 3.9ms | Allocations: 5921)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1478133473495704620)[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(1478133473495704620)[0m
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/batch" for ::1 at 2020-06-16 21:42:24 -0300
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/api/v1/batch"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/batch" for ::1 at 2020-06-16 21:44:13 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/batch"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/batch" for ::1 at 2020-06-16 21:44:48 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"1", "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"1"}}
[31mUnpermitted parameter: :batch[0m
Completed 500 Internal Server Error in 220ms (ActiveRecord: 6.1ms | Allocations: 62646)


  
NameError (undefined local variable or method `batch' for #<Api::V1::BatchController:0x00007fffd7e2d0b8>
Did you mean?  batches
               catch):
  
app/controllers/api/v1/batch_controller.rb:6:in `create'
Started POST "/api/v1/batch" for ::1 at 2020-06-16 21:44:59 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/batch"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/batches" for ::1 at 2020-06-16 21:45:03 -0300
  
ActionController::RoutingError (uninitialized constant Api::V1::BatchesController
Did you mean?  Api::V1::BatchController):
  
actionpack (6.0.3.1) lib/action_dispatch/http/request.rb:92:in `rescue in controller_class_for'
actionpack (6.0.3.1) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.3.1) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/batch" for ::1 at 2020-06-16 21:46:09 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"1", "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"1"}}
[31mUnpermitted parameter: :batch[0m
Completed 422 Unprocessable Entity in 425ms (Views: 0.2ms | ActiveRecord: 3.5ms | Allocations: 5713)


Started POST "/api/v1/batch" for ::1 at 2020-06-16 21:46:53 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>" Order:1 ", "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>" Order:1 "}}
[31mUnpermitted parameter: :batch[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 711)


Started POST "/api/v1/batch" for ::1 at 2020-06-16 21:47:56 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>" Order:1 ", "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>" Order:1 "}}
[31mUnpermitted parameter: :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 704)


Started POST "/api/v1/batch" for ::1 at 2020-06-16 21:48:46 -0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>" [1] ", "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>" [1] "}}
[31mUnpermitted parameter: :batch[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 3.5ms | Allocations: 3273)


Started POST "/api/v1/batch" for ::1 at 2020-06-16 21:49:03 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 709)


Started POST "/api/v1/batch" for ::1 at 2020-06-16 21:49:09 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>[1], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>[1]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 700)


Started POST "/api/v1/batch" for ::1 at 2020-06-16 21:54:31 -0300
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"order:1", "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"order:1"}}
[31mUnpermitted parameter: :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 703)


Started POST "/api/v1/batch" for ::1 at 2020-06-16 21:54:58 -0300
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"order:1", "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"order:1"}}
[31mUnpermitted parameter: :batch[0m
  [1m[35m (15.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `create'
  [1m[36mBatch Create (75.7ms)[0m  [1m[32mINSERT INTO "batches" ("reference", "purchase_channel", "group_of_orders", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "purchase_channel"[0m  [["reference", "1"], ["purchase_channel", "site br"], ["group_of_orders", "order:1"], ["created_at", "2020-06-17 00:54:58.829137"], ["updated_at", "2020-06-17 00:54:58.829137"]]
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `create'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `create'
Completed 200 OK in 119ms (Views: 0.5ms | ActiveRecord: 98.3ms | Allocations: 5636)


Started GET "/api/v1/batch/site" for ::1 at 2020-06-16 21:56:06 -0300
Processing by Api::V1::BatchController#show as */*
  Parameters: {"id"=>"site", "batch"=>{}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."purchase_channel" = $1 LIMIT $2[0m  [["purchase_channel", "site"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:5:in `show'
Completed 404 Not Found in 200ms (ActiveRecord: 33.9ms | Allocations: 1158)


  
ActiveRecord::RecordNotFound (Couldn't find Batch with 'purchase_channel'=site):
  
app/controllers/api/v1/batch_controller.rb:5:in `show'
Started GET "/api/v1/batch/site%20br" for ::1 at 2020-06-16 21:56:11 -0300
Processing by Api::V1::BatchController#show as */*
  Parameters: {"id"=>"site br", "batch"=>{}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."purchase_channel" = $1 LIMIT $2[0m  [["purchase_channel", "site br"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:5:in `show'
Completed 500 Internal Server Error in 120ms (ActiveRecord: 0.3ms | Allocations: 62513)


  
NameError (undefined local variable or method `order' for #<Api::V1::BatchController:0x00007fffc58d5d20>):
  
app/controllers/api/v1/batch_controller.rb:6:in `show'
Started GET "/api/v1/batch/site_br" for ::1 at 2020-06-16 21:56:17 -0300
Processing by Api::V1::BatchController#show as */*
  Parameters: {"id"=>"site_br", "batch"=>{}}
  [1m[36mBatch Load (0.4ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."purchase_channel" = $1 LIMIT $2[0m  [["purchase_channel", "site_br"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:5:in `show'
Completed 404 Not Found in 3ms (ActiveRecord: 0.4ms | Allocations: 640)


  
ActiveRecord::RecordNotFound (Couldn't find Batch with 'purchase_channel'=site_br):
  
app/controllers/api/v1/batch_controller.rb:5:in `show'
Started GET "/api/v1/batch/sitebr" for ::1 at 2020-06-16 21:56:21 -0300
Processing by Api::V1::BatchController#show as */*
  Parameters: {"id"=>"sitebr", "batch"=>{}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."purchase_channel" = $1 LIMIT $2[0m  [["purchase_channel", "sitebr"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:5:in `show'
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 640)


  
ActiveRecord::RecordNotFound (Couldn't find Batch with 'purchase_channel'=sitebr):
  
app/controllers/api/v1/batch_controller.rb:5:in `show'
Started GET "/api/v1/batch/site/br" for ::1 at 2020-06-16 21:56:27 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/batch/site/br"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/batch/sitebr" for ::1 at 2020-06-16 21:56:31 -0300
Processing by Api::V1::BatchController#show as */*
  Parameters: {"id"=>"sitebr", "batch"=>{}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."purchase_channel" = $1 LIMIT $2[0m  [["purchase_channel", "sitebr"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:5:in `show'
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 624)


  
ActiveRecord::RecordNotFound (Couldn't find Batch with 'purchase_channel'=sitebr):
  
app/controllers/api/v1/batch_controller.rb:5:in `show'
Started GET "/api/v1/batch/site_br" for ::1 at 2020-06-16 21:56:35 -0300
Processing by Api::V1::BatchController#show as */*
  Parameters: {"id"=>"site_br", "batch"=>{}}
  [1m[36mBatch Load (0.5ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."purchase_channel" = $1 LIMIT $2[0m  [["purchase_channel", "site_br"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:5:in `show'
Completed 404 Not Found in 3ms (ActiveRecord: 0.5ms | Allocations: 624)


  
ActiveRecord::RecordNotFound (Couldn't find Batch with 'purchase_channel'=site_br):
  
app/controllers/api/v1/batch_controller.rb:5:in `show'
Started GET "/api/v1/batch/site%20br" for ::1 at 2020-06-16 21:56:38 -0300
Processing by Api::V1::BatchController#show as */*
  Parameters: {"id"=>"site br", "batch"=>{}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."purchase_channel" = $1 LIMIT $2[0m  [["purchase_channel", "site br"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:5:in `show'
Completed 500 Internal Server Error in 107ms (ActiveRecord: 0.3ms | Allocations: 60055)


  
NameError (undefined local variable or method `order' for #<Api::V1::BatchController:0x00007f05283fe858>):
  
app/controllers/api/v1/batch_controller.rb:6:in `show'
Started GET "/api/v1/batch/site%20br" for ::1 at 2020-06-16 21:57:07 -0300
Processing by Api::V1::BatchController#show as */*
  Parameters: {"id"=>"site br", "batch"=>{}}
  [1m[36mBatch Load (0.2ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."purchase_channel" = $1 LIMIT $2[0m  [["purchase_channel", "site br"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:5:in `show'
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 3.9ms | Allocations: 3450)


Started GET "/api/v1/batch/1" for ::1 at 2020-06-16 21:57:16 -0300
Processing by Api::V1::BatchController#show as */*
  Parameters: {"id"=>"1", "batch"=>{}}
  [1m[36mBatch Load (0.2ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."purchase_channel" = $1 LIMIT $2[0m  [["purchase_channel", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:5:in `show'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 625)


  
ActiveRecord::RecordNotFound (Couldn't find Batch with 'purchase_channel'=1):
  
app/controllers/api/v1/batch_controller.rb:5:in `show'
Started GET "/api/v1/batch/site%20br" for ::1 at 2020-06-16 21:57:20 -0300
Processing by Api::V1::BatchController#show as */*
  Parameters: {"id"=>"site br", "batch"=>{}}
  [1m[36mBatch Load (0.4ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."purchase_channel" = $1 LIMIT $2[0m  [["purchase_channel", "site br"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:5:in `show'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 784)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1478133473495704620)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1478133473495704620)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (362.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (199.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1478133473495704620)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20200615215508)
  [1m[35m (19.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (83.4ms)[0m  [1m[35mCREATE TABLE "orders" ("reference" character varying NOT NULL, "purchase_channel" character varying NOT NULL, "client_name" character varying NOT NULL, "adress" character varying NOT NULL, "delivery_service" character varying NOT NULL, "total_value" character varying NOT NULL, "line_items" character varying NOT NULL, "status" character varying NOT NULL, "batches_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (93.2ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_batches_id" ON "orders"  ("batches_id")[0m
  [1m[35m (101.4ms)[0m  [1m[35mALTER TABLE orders ADD PRIMARY KEY (reference);[0m
  [1m[36mprimary::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200615215508"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBatches (20200615220732)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (88.1ms)[0m  [1m[35mCREATE TABLE "batches" ("reference" character varying NOT NULL, "purchase_channel" character varying NOT NULL, "group_of_orders" text[] NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (98.6ms)[0m  [1m[35mALTER TABLE batches ADD PRIMARY KEY (purchase_channel);[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200615220732"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-06-17 23:44:40.880789"], ["updated_at", "2020-06-17 23:44:40.880789"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1478133473495704620)[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/orders" for ::1 at 2020-06-17 20:50:17 -0300
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrdersController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "client_name"=>"rogerio lima", "adress"=>"Rua Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041", "delivery_service"=>"SEDEX", "total_value"=>"R$123.30", "line_items"=>"sku: case-my-best-friend, model: iPhone X, case type: Rose Leather", "status"=>"ready", "order"=>{"reference"=>"1", "purchase_channel"=>"site br", "client_name"=>"rogerio lima", "adress"=>"Rua Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041", "delivery_service"=>"SEDEX", "total_value"=>"R$123.30", "line_items"=>"sku: case-my-best-friend, model: iPhone X, case type: Rose Leather", "status"=>"ready"}}
[31mUnpermitted parameter: :order[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[36mOrder Create (23.4ms)[0m  [1m[32mINSERT INTO "orders" ("reference", "purchase_channel", "client_name", "adress", "delivery_service", "total_value", "line_items", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "reference"[0m  [["reference", "1"], ["purchase_channel", "site br"], ["client_name", "rogerio lima"], ["adress", "Rua Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041"], ["delivery_service", "SEDEX"], ["total_value", "R$123.30"], ["line_items", "sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"], ["status", "ready"], ["created_at", "2020-06-17 23:50:17.866194"], ["updated_at", "2020-06-17 23:50:17.866194"]]
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
Completed 200 OK in 56ms (Views: 10.9ms | ActiveRecord: 30.4ms | Allocations: 9058)


Started GET "/api/v1/orders" for ::1 at 2020-06-17 20:57:19 -0300
Processing by Api::V1::OrdersController#index as */*
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (56.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 59ms (Views: 2.2ms | ActiveRecord: 56.6ms | Allocations: 1256)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 21:31:43 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 200ms (Views: 0.2ms | ActiveRecord: 10.7ms | Allocations: 4359)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 21:31:55 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>[1], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>[1]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 709)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 21:31:56 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>[1], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>[1]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 709)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 21:32:08 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 699)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 21:32:22 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"[1]", "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"[1]"}}
[31mUnpermitted parameter: :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 705)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 21:32:45 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 698)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 21:34:03 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>[], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>[]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 698)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 21:34:07 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>[1], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>[1]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 698)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 21:35:38 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"1", "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"1"}}
[31mUnpermitted parameter: :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 702)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 21:35:42 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"1", "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"1"}}
[31mUnpermitted parameter: :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 702)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 23:20:37 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 699)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 23:21:10 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 698)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 23:23:59 -0300
Processing by Api::V1::BatchController#create as */*
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 698)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 23:24:08 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 699)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 23:24:18 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 696)


Started POST "/api/v1/batch" for ::1 at 2020-06-17 23:24:46 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>[1], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>[1]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 696)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1478133473495704620)[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (35.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1478133473495704620)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (632.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (143.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1478133473495704620)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20200615215508)
  [1m[35m (15.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (71.3ms)[0m  [1m[35mCREATE TABLE "orders" ("reference" character varying NOT NULL, "purchase_channel" character varying NOT NULL, "client_name" character varying NOT NULL, "adress" character varying NOT NULL, "delivery_service" character varying NOT NULL, "total_value" character varying NOT NULL, "line_items" character varying NOT NULL, "status" character varying NOT NULL, "batches_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (79.2ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_batches_id" ON "orders"  ("batches_id")[0m
  [1m[35m (89.8ms)[0m  [1m[35mALTER TABLE orders ADD PRIMARY KEY (reference);[0m
  [1m[36mprimary::SchemaMigration Create (57.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200615215508"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBatches (20200615220732)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (117.1ms)[0m  [1m[35mCREATE TABLE "batches" ("reference" character varying NOT NULL, "purchase_channel" character varying NOT NULL, "group_of_orders" text[] DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (69.2ms)[0m  [1m[35mALTER TABLE batches ADD PRIMARY KEY (purchase_channel);[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200615220732"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-06-18 02:28:36.771137"], ["updated_at", "2020-06-18 02:28:36.771137"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1478133473495704620)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/orders" for ::1 at 2020-06-18 08:26:42 -0300
  [1m[35m (19.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "client_name"=>"rogerio lima", "adress"=>"Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041", "delivery_service"=>"SEDEX", "total_value"=>"R$ 123", "line_items"=>"sku: case-my-best-friend, model: iPhone X, case type: Rose Leather}", "status"=>"ready", "order"=>{"reference"=>"1", "purchase_channel"=>"site br", "client_name"=>"rogerio lima", "adress"=>"Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041", "delivery_service"=>"SEDEX", "total_value"=>"R$ 123", "line_items"=>"sku: case-my-best-friend, model: iPhone X, case type: Rose Leather}", "status"=>"ready"}}
[31mUnpermitted parameter: :order[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[36mOrder Create (130.5ms)[0m  [1m[32mINSERT INTO "orders" ("reference", "purchase_channel", "client_name", "adress", "delivery_service", "total_value", "line_items", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "reference"[0m  [["reference", "1"], ["purchase_channel", "site br"], ["client_name", "rogerio lima"], ["adress", "Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041"], ["delivery_service", "SEDEX"], ["total_value", "R$ 123"], ["line_items", "sku: case-my-best-friend, model: iPhone X, case type: Rose Leather}"], ["status", "ready"], ["created_at", "2020-06-18 11:26:43.538349"], ["updated_at", "2020-06-18 11:26:43.538349"]]
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
Completed 200 OK in 204ms (Views: 21.1ms | ActiveRecord: 168.8ms | Allocations: 9056)


Started POST "/api/v1/batch" for ::1 at 2020-06-18 08:27:06 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 234ms (Views: 0.2ms | ActiveRecord: 4.0ms | Allocations: 4358)


Started POST "/api/v1/batch" for ::1 at 2020-06-18 08:37:04 -0300
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 13ms (Views: 0.2ms | ActiveRecord: 4.9ms | Allocations: 4742)


Started POST "/api/v1/batch" for ::1 at 2020-06-18 08:37:29 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"1", "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>"1"}}
[31mUnpermitted parameter: :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 712)


Started POST "/api/v1/batch" for ::1 at 2020-06-18 08:37:40 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 710)


Started POST "/api/v1/batch" for ::1 at 2020-06-18 08:56:11 -0300
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 1.8ms | Allocations: 156)


  
ArgumentError (wrong number of arguments (given 0, expected 1..2)):
  
app/controllers/api/v1/batch_controller.rb:18:in `[]'
app/controllers/api/v1/batch_controller.rb:18:in `batch_params'
app/controllers/api/v1/batch_controller.rb:9:in `create'
Started POST "/api/v1/batch" for ::1 at 2020-06-18 08:57:11 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
[31mUnpermitted parameters: :group_of_orders, :batch[0m
Completed 422 Unprocessable Entity in 16ms (Views: 0.2ms | ActiveRecord: 5.1ms | Allocations: 4717)


Started POST "/api/v1/batch" for ::1 at 2020-06-18 08:58:22 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site br", "group_of_orders"=>["1"]}}
[31mUnpermitted parameter: :batch[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:10:in `create'
  [1m[36mBatch Create (1.9ms)[0m  [1m[32mINSERT INTO "batches" ("reference", "purchase_channel", "group_of_orders", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "purchase_channel"[0m  [["reference", "1"], ["purchase_channel", "site br"], ["group_of_orders", "{1}"], ["created_at", "2020-06-18 11:58:22.280037"], ["updated_at", "2020-06-18 11:58:22.280037"]]
  ↳ app/controllers/api/v1/batch_controller.rb:10:in `create'
  [1m[35m (62.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:10:in `create'
Completed 200 OK in 77ms (Views: 0.4ms | ActiveRecord: 67.6ms | Allocations: 5298)


Started GET "/api/v1/orders/ready" for ::1 at 2020-06-18 20:43:27 -0300
  [1m[35m (9.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/orders_controller.rb:27: syntax error, unexpected ')', expecting =>
...ue, :line_items => [], :status)
...                              ^
/mnt/c/sites/restapi/app/controllers/api/v1/orders_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/api/v1/orders_controller.rb:27: syntax error, unexpected ')', expecting =>
app/controllers/api/v1/orders_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'
app/controllers/api/v1/orders_controller.rb:27: syntax error, unexpected ')', expecting =>
app/controllers/api/v1/orders_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'
Started GET "/api/v1/orders/ready" for ::1 at 2020-06-18 20:45:29 -0300
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/orders_controller.rb:27: syntax error, unexpected ')', expecting =>
...e, :line_items => [] , :status)
...                              ^
/mnt/c/sites/restapi/app/controllers/api/v1/orders_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/api/v1/orders_controller.rb:27: syntax error, unexpected ')', expecting =>
app/controllers/api/v1/orders_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'
app/controllers/api/v1/orders_controller.rb:27: syntax error, unexpected ')', expecting =>
app/controllers/api/v1/orders_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'
Started GET "/api/v1/orders/ready" for ::1 at 2020-06-18 20:49:05 -0300
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/orders_controller.rb:27: syntax error, unexpected ')', expecting =>
...ue, :line_items => [], :status)
...                              ^
/mnt/c/sites/restapi/app/controllers/api/v1/orders_controller.rb:35: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/api/v1/orders_controller.rb:27: syntax error, unexpected ')', expecting =>
app/controllers/api/v1/orders_controller.rb:35: syntax error, unexpected end-of-input, expecting `end'
app/controllers/api/v1/orders_controller.rb:27: syntax error, unexpected ')', expecting =>
app/controllers/api/v1/orders_controller.rb:35: syntax error, unexpected end-of-input, expecting `end'
Started GET "/api/v1/orders/ready" for ::1 at 2020-06-18 20:56:58 -0300
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/orders_controller.rb:27: syntax error, unexpected ')', expecting =>
...ue, :line_items => [], :status)
...                              ^
/mnt/c/sites/restapi/app/controllers/api/v1/orders_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/api/v1/orders_controller.rb:27: syntax error, unexpected ')', expecting =>
app/controllers/api/v1/orders_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'
app/controllers/api/v1/orders_controller.rb:27: syntax error, unexpected ')', expecting =>
app/controllers/api/v1/orders_controller.rb:34: syntax error, unexpected end-of-input, expecting `end'
Started GET "/api/v1/orders/ready" for ::1 at 2020-06-18 21:02:34 -0300
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"id"=>"ready", "order"=>{}}
  [1m[36mOrder Load (22.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "ready"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 404 Not Found in 98ms (ActiveRecord: 61.2ms | Allocations: 1231)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'reference'=ready):
  
app/controllers/api/v1/orders_controller.rb:9:in `show'
Started GET "/api/v1/orders" for ::1 at 2020-06-18 21:02:48 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.7ms | Allocations: 6971)


Started GET "/api/v1/orders" for ::1 at 2020-06-18 21:04:53 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::V1::OrdersController):
  
actionpack (6.0.3.1) lib/abstract_controller/base.rb:131:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/orders/1" for ::1 at 2020-06-18 21:04:56 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"id"=>"1", "order"=>{}}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 200 OK in 17ms (Views: 0.5ms | ActiveRecord: 5.2ms | Allocations: 6401)


Started GET "/api/v1/orders/ready" for ::1 at 2020-06-18 21:05:02 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"id"=>"ready", "order"=>{}}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "ready"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `show'
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms | Allocations: 652)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'reference'=ready):
  
app/controllers/api/v1/orders_controller.rb:6:in `show'
Started GET "/api/v1/orders?status=ready" for ::1 at 2020-06-18 21:10:40 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"status"=>"ready", "order"=>{}}
  [1m[36mOrder Load (2.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 2.4ms | Allocations: 6573)


Started GET "/api/v1/orders?status=production" for ::1 at 2020-06-18 21:11:02 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"status"=>"production", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 1133)


Started GET "/api/v1/orders?status=production" for ::1 at 2020-06-18 21:11:51 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::V1::OrdersController):
  
actionpack (6.0.3.1) lib/abstract_controller/base.rb:131:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/orders/orders?status=production" for ::1 at 2020-06-18 21:14:12 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"production", "id"=>"orders", "order"=>{}}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1 LIMIT $2[0m  [["reference", "orders"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/orders_controller.rb:9:in `show'
Completed 404 Not Found in 6ms (ActiveRecord: 14.5ms | Allocations: 842)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'reference'=orders):
  
app/controllers/api/v1/orders_controller.rb:9:in `show'
Started GET "/api/v1/orders/orders?status=production" for ::1 at 2020-06-18 21:21:20 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"production", "id"=>"orders", "order"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1329)


  
NoMethodError (undefined method `permit' for "production":String):
  
app/controllers/api/v1/orders_controller.rb:30:in `order_params2'
app/controllers/api/v1/orders_controller.rb:21:in `show'
Started GET "/api/v1/orders/ready" for ::1 at 2020-06-18 21:21:46 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"id"=>"ready", "order"=>{}}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 124)


  
ActionController::ParameterMissing (param is missing or the value is empty: status):
  
app/controllers/api/v1/orders_controller.rb:30:in `order_params2'
app/controllers/api/v1/orders_controller.rb:21:in `show'
Started GET "/api/v1/orders?status=ready" for ::1 at 2020-06-18 21:22:57 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"status"=>"ready", "order"=>{}}
  [1m[36mOrder Load (2.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 2.5ms | Allocations: 6547)


Started GET "/api/v1/orders?status=ready" for ::1 at 2020-06-18 21:23:13 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::V1::OrdersController):
  
actionpack (6.0.3.1) lib/abstract_controller/base.rb:131:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/orders/orders?status=ready" for ::1 at 2020-06-18 21:23:31 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready", "id"=>"orders", "order"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 11.6ms | Allocations: 1322)


  
NoMethodError (undefined method `permit' for "ready":String):
  
app/controllers/api/v1/orders_controller.rb:27:in `order_params2'
app/controllers/api/v1/orders_controller.rb:18:in `show'
Started GET "/api/v1/orders/orders?status=ready" for ::1 at 2020-06-18 21:24:11 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready", "id"=>"orders", "order"=>{}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 2.5ms | Allocations: 1321)


  
NoMethodError (undefined method `permit' for "ready":String):
  
app/controllers/api/v1/orders_controller.rb:27:in `order_params2'
app/controllers/api/v1/orders_controller.rb:18:in `show'
Started GET "/api/v1/orders/orders?status=ready" for ::1 at 2020-06-18 21:24:47 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 6.0ms | Allocations: 525)


  
TypeError (can't cast ActionController::Parameters):
  
app/controllers/api/v1/orders_controller.rb:9:in `show'
Started GET "/api/v1/orders/orders?status=ready" for ::1 at 2020-06-18 21:26:27 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ready"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 14ms (Views: 11.5ms | ActiveRecord: 3.6ms | Allocations: 6748)


Started GET "/api/v1/orders/orders?status=production" for ::1 at 2020-06-18 21:26:38 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"production", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "production"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.4ms | Allocations: 1106)


Started GET "/api/v1/orders/orders?status=ready" for ::1 at 2020-06-18 21:26:51 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ready"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 1300)


Started GET "/api/v1/orders/orders?reference=1" for ::1 at 2020-06-18 21:26:59 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"reference"=>"1", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1[0m  [["reference", "1"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 1304)


Started GET "/api/v1/orders/orders?client_name=rogerio" for ::1 at 2020-06-18 21:27:11 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"client_name"=>"rogerio", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" = $1[0m  [["client_name", "rogerio"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 1094)


Started GET "/api/v1/orders/orders?client_name=rogerio%20lima" for ::1 at 2020-06-18 21:27:15 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"client_name"=>"rogerio lima", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" = $1[0m  [["client_name", "rogerio lima"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 1300)


Started GET "/api/v1/orders/orders?client_name=paulo" for ::1 at 2020-06-18 21:27:20 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"client_name"=>"paulo", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" = $1[0m  [["client_name", "paulo"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 1090)


Started GET "/api/v1/orders/orders?client_name=rogerio%20lima" for ::1 at 2020-06-18 21:27:26 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"client_name"=>"rogerio lima", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" = $1[0m  [["client_name", "rogerio lima"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.4ms | Allocations: 1300)


Started POST "/api/v1/orders" for ::1 at 2020-06-19 18:24:30 -0300
  [1m[35m (21.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site eua", "client_name"=>"anna julia", "adress"=>"avenida dom luis", "delivery_service"=>"correios", "total value"=>"R$124", "line items"=>["sku: earphone-standard, color: white"], "status"=>"ready", "order"=>{"reference"=>"2", "purchase_channel"=>"site eua", "client_name"=>"anna julia", "adress"=>"avenida dom luis", "delivery_service"=>"correios", "status"=>"ready"}}
[31mUnpermitted parameters: :total value, :line items, :order[0m
Completed 422 Unprocessable Entity in 85ms (Views: 0.3ms | ActiveRecord: 6.5ms | Allocations: 8354)


Started POST "/api/v1/orders" for ::1 at 2020-06-19 18:25:15 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site eua", "client_name"=>"anna julia", "adress"=>"avenida dom luis", "delivery_service"=>"correios", "total_value"=>"R$124", "line_items"=>["sku: earphone-standard, color: white"], "status"=>"ready", "order"=>{"reference"=>"2", "purchase_channel"=>"site eua", "client_name"=>"anna julia", "adress"=>"avenida dom luis", "delivery_service"=>"correios", "total_value"=>"R$124", "line_items"=>["sku: earphone-standard, color: white"], "status"=>"ready"}}
[31mUnpermitted parameter: :order[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[36mOrder Create (24.1ms)[0m  [1m[32mINSERT INTO "orders" ("reference", "purchase_channel", "client_name", "adress", "delivery_service", "total_value", "line_items", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "reference"[0m  [["reference", "2"], ["purchase_channel", "site eua"], ["client_name", "anna julia"], ["adress", "avenida dom luis"], ["delivery_service", "correios"], ["total_value", "R$124"], ["line_items", "[\"sku: earphone-standard, color: white\"]"], ["status", "ready"], ["created_at", "2020-06-19 21:25:15.161454"], ["updated_at", "2020-06-19 21:25:15.161454"]]
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[35m (78.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
Completed 200 OK in 110ms (Views: 0.4ms | ActiveRecord: 102.8ms | Allocations: 3014)


Started POST "/api/v1/orders" for ::1 at 2020-06-19 18:25:58 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"3", "purchase_channel"=>"site us", "client_name"=>"alexandre silva", "adress"=>"avenida santos dumont", "delivery_service"=>"SEDEX", "total_value"=>"R$125", "line_items"=>["sku: earphone-standard, color: black"], "status"=>"production", "order"=>{"reference"=>"3", "purchase_channel"=>"site us", "client_name"=>"alexandre silva", "adress"=>"avenida santos dumont", "delivery_service"=>"SEDEX", "total_value"=>"R$125", "line_items"=>["sku: earphone-standard, color: black"], "status"=>"production"}}
[31mUnpermitted parameter: :order[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("reference", "purchase_channel", "client_name", "adress", "delivery_service", "total_value", "line_items", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "reference"[0m  [["reference", "3"], ["purchase_channel", "site us"], ["client_name", "alexandre silva"], ["adress", "avenida santos dumont"], ["delivery_service", "SEDEX"], ["total_value", "R$125"], ["line_items", "[\"sku: earphone-standard, color: black\"]"], ["status", "production"], ["created_at", "2020-06-19 21:25:58.689328"], ["updated_at", "2020-06-19 21:25:58.689328"]]
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 2887)


Started POST "/api/v1/orders" for ::1 at 2020-06-19 18:27:00 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"4", "purchase_channel"=>"site EU", "client_name"=>"joao pedro", "adress"=>"rua barao de aracati", "delivery_service"=>"correios", "total_value"=>"R$126", "line_items"=>["powebank-sunshine, capacity: 10000mah"], "status"=>"production", "order"=>{"reference"=>"4", "purchase_channel"=>"site EU", "client_name"=>"joao pedro", "adress"=>"rua barao de aracati", "delivery_service"=>"correios", "total_value"=>"R$126", "line_items"=>["powebank-sunshine, capacity: 10000mah"], "status"=>"production"}}
[31mUnpermitted parameter: :order[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("reference", "purchase_channel", "client_name", "adress", "delivery_service", "total_value", "line_items", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "reference"[0m  [["reference", "4"], ["purchase_channel", "site EU"], ["client_name", "joao pedro"], ["adress", "rua barao de aracati"], ["delivery_service", "correios"], ["total_value", "R$126"], ["line_items", "[\"powebank-sunshine, capacity: 10000mah\"]"], ["status", "production"], ["created_at", "2020-06-19 21:27:00.499407"], ["updated_at", "2020-06-19 21:27:00.499407"]]
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 2887)


Started GET "/api/v1/orders" for ::1 at 2020-06-19 18:27:04 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (29.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 33ms (Views: 2.8ms | ActiveRecord: 29.7ms | Allocations: 1849)


Started GET "/api/v1/orders?status=ready" for ::1 at 2020-06-19 18:28:19 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"status"=>"ready", "order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms | Allocations: 1761)


Started GET "/api/v1/orders/orders?status=ready" for ::1 at 2020-06-19 18:28:32 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ready"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 77ms (Views: 75.8ms | ActiveRecord: 0.5ms | Allocations: 2866)


Started GET "/api/v1/orders/orders?status=production" for ::1 at 2020-06-19 18:28:40 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"production", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "production"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.3ms | Allocations: 1510)


Started GET "/api/v1/orders/orders?client_name=rogerio" for ::1 at 2020-06-19 18:28:53 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"client_name"=>"rogerio", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" = $1[0m  [["client_name", "rogerio"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 1095)


Started GET "/api/v1/orders/orders?client_name=rogerio%20lima" for ::1 at 2020-06-19 18:28:57 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"client_name"=>"rogerio lima", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" = $1[0m  [["client_name", "rogerio lima"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms | Allocations: 1300)


Started GET "/api/v1/orders" for ::1 at 2020-06-19 20:46:46 -0300
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (2.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 18ms (Views: 11.6ms | ActiveRecord: 7.8ms | Allocations: 7758)


Started GET "/api/v1/batch" for ::1 at 2020-06-19 20:51:11 -0300
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::V1::BatchController):
  
actionpack (6.0.3.1) lib/abstract_controller/base.rb:131:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/batch/1" for ::1 at 2020-06-19 20:51:21 -0300
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"id"=>"1", "batch"=>{}}
Completed 500 Internal Server Error in 115ms (ActiveRecord: 76.0ms | Allocations: 59522)


  
NameError (undefined local variable or method `order_params' for #<Api::V1::BatchController:0x00007f8658847c28>):
  
app/controllers/api/v1/batch_controller.rb:5:in `show'
Started GET "/api/v1/batch/1" for ::1 at 2020-06-19 20:51:40 -0300
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"id"=>"1", "batch"=>{}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (98.5ms)[0m  [1m[34mSELECT "batches".* FROM "batches"[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `show'
Completed 200 OK in 115ms (Views: 8.0ms | ActiveRecord: 108.2ms | Allocations: 4016)


Started GET "/api/v1/batch" for ::1 at 2020-06-19 20:51:44 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::V1::BatchController):
  
actionpack (6.0.3.1) lib/abstract_controller/base.rb:131:in `process'
actionpack (6.0.3.1) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.1) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.1) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.2) lib/rack/etag.rb:27:in `call'
rack (2.2.2) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.2) lib/rack/head.rb:12:in `call'
activerecord (6.0.3.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/batch" for ::1 at 2020-06-19 20:52:26 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch"=>{}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.9ms | Allocations: 2974)


  
NoMethodError (undefined method `batch' for #<Class:0x00007f866c010618>):
  
app/controllers/api/v1/batch_controller.rb:5:in `index'
Started GET "/api/v1/batch" for ::1 at 2020-06-19 20:53:23 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch"=>{}}
  [1m[36mBatch Load (0.6ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 10ms (Views: 6.3ms | ActiveRecord: 4.8ms | Allocations: 3589)


  [1m[35m (343.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (144.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1478133473495704620)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20200615215508)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(1478133473495704620)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1478133473495704620)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20200615215508)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (199.4ms)[0m  [1m[35mCREATE TABLE "orders" ("reference" character varying NOT NULL, "purchase_channel" character varying NOT NULL, "client_name" character varying NOT NULL, "adress" character varying NOT NULL, "delivery_service" character varying NOT NULL, "total_value_RS" integer NOT NULL, "line_items" character varying[] DEFAULT '{}' NOT NULL, "status" character varying NOT NULL, "batches_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (84.6ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_batches_id" ON "orders"  ("batches_id")[0m
  [1m[35m (132.2ms)[0m  [1m[35mALTER TABLE orders ADD PRIMARY KEY (reference);[0m
  [1m[36mprimary::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200615215508"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBatches (20200615220732)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (109.1ms)[0m  [1m[35mCREATE TABLE "batches" ("reference" character varying NOT NULL, "purchase_channel" character varying NOT NULL, "group_of_orders" text[] DEFAULT '{}' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (95.1ms)[0m  [1m[35mALTER TABLE batches ADD PRIMARY KEY (reference);[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200615220732"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-06-20 00:00:50.791464"], ["updated_at", "2020-06-20 00:00:50.791464"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1478133473495704620)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/orders" for ::1 at 2020-06-19 21:18:45 -0300
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (2.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 4.9ms | Allocations: 1124)


Started POST "/api/v1/orders" for ::1 at 2020-06-19 21:45:09 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"4", "purchase_channel"=>"site EU", "client_name"=>"joao pedro", "adress"=>"rua barao de aracati", "delivery_service"=>"correios", "total_value"=>"R$126", "line_items"=>["powebank-sunshine, capacity: 10000mah"], "status"=>"production", "order"=>{"reference"=>"4", "purchase_channel"=>"site EU", "client_name"=>"joao pedro", "adress"=>"rua barao de aracati", "delivery_service"=>"correios", "line_items"=>["powebank-sunshine, capacity: 10000mah"], "status"=>"production"}}
[31mUnpermitted parameter: :order[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 4.9ms | Allocations: 6242)


  
ActiveModel::UnknownAttributeError (unknown attribute 'total_value' for Order.):
  
app/controllers/api/v1/orders_controller.rb:13:in `create'
Started POST "/api/v1/orders" for ::1 at 2020-06-19 21:45:23 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"4", "purchase_channel"=>"site EU", "client_name"=>"joao pedro", "adress"=>"rua barao de aracati", "delivery_service"=>"correios", "total_value_RS"=>126, "line_items"=>["powebank-sunshine, capacity: 10000mah"], "status"=>"production", "order"=>{"reference"=>"4", "purchase_channel"=>"site EU", "client_name"=>"joao pedro", "adress"=>"rua barao de aracati", "delivery_service"=>"correios", "total_value_RS"=>126, "line_items"=>["powebank-sunshine, capacity: 10000mah"], "status"=>"production"}}
[31mUnpermitted parameters: :total_value_RS, :order[0m
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.0ms | Allocations: 4001)


  
NoMethodError (undefined method `total_value' for #<Order:0x00007fffd5aa0050>
Did you mean?  total_value_RS):
  
app/controllers/api/v1/orders_controller.rb:14:in `create'
Started POST "/api/v1/orders" for ::1 at 2020-06-19 21:45:54 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"4", "purchase_channel"=>"site EU", "client_name"=>"joao pedro", "adress"=>"rua barao de aracati", "delivery_service"=>"correios", "total_value_RS"=>126, "line_items"=>["powebank-sunshine, capacity: 10000mah"], "status"=>"production", "order"=>{"reference"=>"4", "purchase_channel"=>"site EU", "client_name"=>"joao pedro", "adress"=>"rua barao de aracati", "delivery_service"=>"correios", "total_value_RS"=>126, "line_items"=>["powebank-sunshine, capacity: 10000mah"], "status"=>"production"}}
[31mUnpermitted parameter: :order[0m
Completed 500 Internal Server Error in 23ms (ActiveRecord: 10.8ms | Allocations: 9303)


  
NoMethodError (undefined method `total_value' for #<Order:0x00007f7108912a78>
Did you mean?  total_value_RS):
  
app/controllers/api/v1/orders_controller.rb:14:in `create'
Started POST "/api/v1/orders" for ::1 at 2020-06-19 21:46:17 -0300
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"4", "purchase_channel"=>"site EU", "client_name"=>"joao pedro", "adress"=>"rua barao de aracati", "delivery_service"=>"correios", "total_value_RS"=>126, "line_items"=>["powebank-sunshine, capacity: 10000mah"], "status"=>"production", "order"=>{"reference"=>"4", "purchase_channel"=>"site EU", "client_name"=>"joao pedro", "adress"=>"rua barao de aracati", "delivery_service"=>"correios", "total_value_RS"=>126, "line_items"=>["powebank-sunshine, capacity: 10000mah"], "status"=>"production"}}
[31mUnpermitted parameter: :order[0m
Completed 500 Internal Server Error in 23ms (ActiveRecord: 5.4ms | Allocations: 9891)


  
NoMethodError (undefined method `total_value' for #<Order:0x00007f8e58b9d410>
Did you mean?  total_value_RS):
  
app/controllers/api/v1/orders_controller.rb:14:in `create'
Started POST "/api/v1/orders" for ::1 at 2020-06-19 21:47:44 -0300
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"4", "purchase_channel"=>"site EU", "client_name"=>"joao pedro", "adress"=>"rua barao de aracati", "delivery_service"=>"correios", "total_value_RS"=>126, "line_items"=>["powebank-sunshine, capacity: 10000mah"], "status"=>"production", "order"=>{"reference"=>"4", "purchase_channel"=>"site EU", "client_name"=>"joao pedro", "adress"=>"rua barao de aracati", "delivery_service"=>"correios", "total_value_RS"=>126, "line_items"=>["powebank-sunshine, capacity: 10000mah"], "status"=>"production"}}
[31mUnpermitted parameter: :order[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[36mOrder Create (39.7ms)[0m  [1m[32mINSERT INTO "orders" ("reference", "purchase_channel", "client_name", "adress", "delivery_service", "total_value_RS", "line_items", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "reference"[0m  [["reference", "4"], ["purchase_channel", "site EU"], ["client_name", "joao pedro"], ["adress", "rua barao de aracati"], ["delivery_service", "correios"], ["total_value_RS", 126], ["line_items", "{\"powebank-sunshine, capacity: 10000mah\"}"], ["status", "production"], ["created_at", "2020-06-20 00:47:44.770877"], ["updated_at", "2020-06-20 00:47:44.770877"]]
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
Completed 200 OK in 105ms (Views: 0.5ms | ActiveRecord: 47.1ms | Allocations: 9105)


Started POST "/api/v1/orders" for ::1 at 2020-06-19 21:48:05 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"3", "purchase_channel"=>"site us", "client_name"=>"alexandre silva", "adress"=>"avenida santos dumont", "delivery_service"=>"SEDEX", "total_value"=>"R$125", "line_items"=>"[\"sku: earphone-standard, color: black\"]", "status"=>"production", "order"=>{"reference"=>"3", "purchase_channel"=>"site us", "client_name"=>"alexandre silva", "adress"=>"avenida santos dumont", "delivery_service"=>"SEDEX", "line_items"=>"[\"sku: earphone-standard, color: black\"]", "status"=>"production"}}
[31mUnpermitted parameters: :total_value, :line_items, :order[0m
Completed 422 Unprocessable Entity in 20ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2278)


Started POST "/api/v1/orders" for ::1 at 2020-06-19 21:49:18 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"3", "purchase_channel"=>"site us", "client_name"=>"alexandre silva", "adress"=>"avenida santos dumont", "delivery_service"=>"SEDEX", "total_value_RS"=>"R$125", "line_items"=>["sku: earphone-standard, color: black"], "status"=>"production", "order"=>{"reference"=>"3", "purchase_channel"=>"site us", "client_name"=>"alexandre silva", "adress"=>"avenida santos dumont", "delivery_service"=>"SEDEX", "total_value_RS"=>"R$125", "line_items"=>["sku: earphone-standard, color: black"], "status"=>"production"}}
[31mUnpermitted parameter: :order[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("reference", "purchase_channel", "client_name", "adress", "delivery_service", "total_value_RS", "line_items", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "reference"[0m  [["reference", "3"], ["purchase_channel", "site us"], ["client_name", "alexandre silva"], ["adress", "avenida santos dumont"], ["delivery_service", "SEDEX"], ["total_value_RS", 0], ["line_items", "{\"sku: earphone-standard, color: black\"}"], ["status", "production"], ["created_at", "2020-06-20 00:49:18.817872"], ["updated_at", "2020-06-20 00:49:18.817872"]]
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 2857)


Started POST "/api/v1/orders" for ::1 at 2020-06-19 21:50:46 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site eua", "client_name"=>"anna julia", "adress"=>"avenida dom luis", "delivery_service"=>"correios", "total_value_RS"=>124, "line_items"=>["sku: earphone-standard, color: white"], "status"=>"ready", "order"=>{"reference"=>"2", "purchase_channel"=>"site eua", "client_name"=>"anna julia", "adress"=>"avenida dom luis", "delivery_service"=>"correios", "total_value_RS"=>124, "line_items"=>["sku: earphone-standard, color: white"], "status"=>"ready"}}
[31mUnpermitted parameter: :order[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("reference", "purchase_channel", "client_name", "adress", "delivery_service", "total_value_RS", "line_items", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "reference"[0m  [["reference", "2"], ["purchase_channel", "site eua"], ["client_name", "anna julia"], ["adress", "avenida dom luis"], ["delivery_service", "correios"], ["total_value_RS", 124], ["line_items", "{\"sku: earphone-standard, color: white\"}"], ["status", "ready"], ["created_at", "2020-06-20 00:50:46.668831"], ["updated_at", "2020-06-20 00:50:46.668831"]]
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 2857)


Started POST "/api/v1/orders" for ::1 at 2020-06-19 21:51:36 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site eua", "client_name"=>"rogerio lima", "adress"=>"Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041", "delivery_service"=>"SEDEX", "total_value_RS"=>123, "line_items"=>["sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"], "status"=>"ready", "order"=>{"reference"=>"1", "purchase_channel"=>"site eua", "client_name"=>"rogerio lima", "adress"=>"Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041", "delivery_service"=>"SEDEX", "total_value_RS"=>123, "line_items"=>["sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"], "status"=>"ready"}}
[31mUnpermitted parameter: :order[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("reference", "purchase_channel", "client_name", "adress", "delivery_service", "total_value_RS", "line_items", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "reference"[0m  [["reference", "1"], ["purchase_channel", "site eua"], ["client_name", "rogerio lima"], ["adress", "Padre Valdevino, 2475 - Aldeota, Fortaleza - CE, 60135-041"], ["delivery_service", "SEDEX"], ["total_value_RS", 123], ["line_items", "{\"sku: case-my-best-friend, model: iPhone X, case type: Rose Leather\"}"], ["status", "ready"], ["created_at", "2020-06-20 00:51:36.970744"], ["updated_at", "2020-06-20 00:51:36.970744"]]
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 2894)


Started POST "/api/v1/batch" for ::1 at 2020-06-19 21:52:48 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site eua", "group_of_orders"=>["1", "2"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site eua", "group_of_orders"=>["1", "2"]}}
[31mUnpermitted parameter: :batch[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
  [1m[36mBatch Create (1.9ms)[0m  [1m[32mINSERT INTO "batches" ("reference", "purchase_channel", "group_of_orders", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "reference"[0m  [["reference", "1"], ["purchase_channel", "site eua"], ["group_of_orders", "{1,2}"], ["created_at", "2020-06-20 00:52:48.427724"], ["updated_at", "2020-06-20 00:52:48.427724"]]
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 6.0ms | Allocations: 5208)


Started POST "/api/v1/batch" for ::1 at 2020-06-19 21:53:40 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site us", "group_of_orders"=>["3"], "batch"=>{"reference"=>"2", "purchase_channel"=>"site us", "group_of_orders"=>["3"]}}
[31mUnpermitted parameter: :batch[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
  [1m[36mBatch Create (0.5ms)[0m  [1m[32mINSERT INTO "batches" ("reference", "purchase_channel", "group_of_orders", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "reference"[0m  [["reference", "2"], ["purchase_channel", "site us"], ["group_of_orders", "{3}"], ["created_at", "2020-06-20 00:53:40.365288"], ["updated_at", "2020-06-20 00:53:40.365288"]]
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 2643)


Started POST "/api/v1/batch" for ::1 at 2020-06-19 21:53:52 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"3", "purchase_channel"=>"site EU", "group_of_orders"=>["4"], "batch"=>{"reference"=>"3", "purchase_channel"=>"site EU", "group_of_orders"=>["4"]}}
[31mUnpermitted parameter: :batch[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
  [1m[36mBatch Create (0.4ms)[0m  [1m[32mINSERT INTO "batches" ("reference", "purchase_channel", "group_of_orders", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "reference"[0m  [["reference", "3"], ["purchase_channel", "site EU"], ["group_of_orders", "{4}"], ["created_at", "2020-06-20 00:53:52.571001"], ["updated_at", "2020-06-20 00:53:52.571001"]]
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
Completed 200 OK in 13ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 2634)


Started POST "/api/v1/batch/1" for ::1 at 2020-06-19 21:53:57 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/batch/1"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/batch/1" for ::1 at 2020-06-19 21:54:06 -0300
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"id"=>"1", "batch"=>{}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (0.4ms)[0m  [1m[34mSELECT "batches".* FROM "batches"[0m
  ↳ app/controllers/api/v1/batch_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.4ms | Allocations: 1491)


Started GET "/api/v1/batch/2" for ::1 at 2020-06-19 21:54:44 -0300
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"id"=>"2", "batch"=>{}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (0.2ms)[0m  [1m[34mSELECT "batches".* FROM "batches"[0m
  ↳ app/controllers/api/v1/batch_controller.rb:10:in `show'
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 3.4ms | Allocations: 3931)


Started GET "/api/v1/batch/?batch?reference=1" for ::1 at 2020-06-19 21:55:05 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch?reference"=>"1", "batch"=>{}}
  [1m[36mBatch Load (0.7ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.7ms | Allocations: 1344)


Started GET "/api/v1/batch/batch?reference=1" for ::1 at 2020-06-19 21:55:30 -0300
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"reference"=>"1", "id"=>"batch", "batch"=>{}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (0.2ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1[0m  [["reference", "1"]]
  ↳ app/controllers/api/v1/batch_controller.rb:10:in `show'
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.5ms | Allocations: 2478)


Started GET "/api/v1/batch/batch?purchase_channel=site%20eua" for ::1 at 2020-06-19 21:55:52 -0300
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"purchase_channel"=>"site eua", "id"=>"batch", "batch"=>{}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."purchase_channel" = $1[0m  [["purchase_channel", "site eua"]]
  ↳ app/controllers/api/v1/batch_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.3ms | Allocations: 1208)


Started GET "/api/v1/batch/batch?purchase_channel=site%20us" for ::1 at 2020-06-19 21:55:56 -0300
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"purchase_channel"=>"site us", "id"=>"batch", "batch"=>{}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."purchase_channel" = $1[0m  [["purchase_channel", "site us"]]
  ↳ app/controllers/api/v1/batch_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1197)


Started GET "/api/v1/batch/batch?purchase_channel=site%20EU" for ::1 at 2020-06-19 21:56:01 -0300
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"purchase_channel"=>"site EU", "id"=>"batch", "batch"=>{}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (0.4ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."purchase_channel" = $1[0m  [["purchase_channel", "site EU"]]
  ↳ app/controllers/api/v1/batch_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms | Allocations: 1197)


Started GET "/api/v1/batch" for ::1 at 2020-06-20 18:55:44 -0300
  [1m[35m (36.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch"=>{}}
  [1m[36mBatch Load (94.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 119ms (Views: 22.1ms | ActiveRecord: 122.4ms | Allocations: 4260)


Started GET "/api/v1/orders" for ::1 at 2020-06-20 18:56:31 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (58.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 74ms (Views: 13.4ms | ActiveRecord: 61.3ms | Allocations: 7460)


Started POST "/api/v1/orders" for ::1 at 2020-06-20 18:58:07 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"5", "purchase_channel"=>"site br", "client_name"=>"joao silva", "adress"=>"av santos dumont", "delivery_service"=>"SEDEX", "total_value_RS"=>127, "line_items"=>["sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"], "status"=>"ready", "order"=>{"reference"=>"5", "purchase_channel"=>"site br", "client_name"=>"joao silva", "adress"=>"av santos dumont", "delivery_service"=>"SEDEX", "total_value_RS"=>127, "line_items"=>["sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"], "status"=>"ready"}}
[31mUnpermitted parameter: :order[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[36mOrder Create (56.0ms)[0m  [1m[32mINSERT INTO "orders" ("reference", "purchase_channel", "client_name", "adress", "delivery_service", "total_value_RS", "line_items", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "reference"[0m  [["reference", "5"], ["purchase_channel", "site br"], ["client_name", "joao silva"], ["adress", "av santos dumont"], ["delivery_service", "SEDEX"], ["total_value_RS", 127], ["line_items", "{\"sku: case-my-best-friend, model: iPhone X, case type: Rose Leather\"}"], ["status", "ready"], ["created_at", "2020-06-20 21:58:07.680107"], ["updated_at", "2020-06-20 21:58:07.680107"]]
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
Completed 200 OK in 101ms (Views: 0.4ms | ActiveRecord: 57.5ms | Allocations: 3162)


Started POST "/api/v1/orders" for ::1 at 2020-06-20 19:00:33 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"5", "purchase_channel"=>"site br", "client_name"=>"joao silva", "adress"=>"av santos dumont", "delivery_service"=>"SEDEX", "total_value_RS"=>127, "line_items"=>["sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"], "status"=>"ready", "order"=>{"reference"=>"5", "purchase_channel"=>"site br", "client_name"=>"joao silva", "adress"=>"av santos dumont", "delivery_service"=>"SEDEX", "total_value_RS"=>127, "line_items"=>["sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"], "status"=>"ready"}}
[31mUnpermitted parameter: :order[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[36mOrder Create (115.5ms)[0m  [1m[32mINSERT INTO "orders" ("reference", "purchase_channel", "client_name", "adress", "delivery_service", "total_value_RS", "line_items", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "reference"[0m  [["reference", "5"], ["purchase_channel", "site br"], ["client_name", "joao silva"], ["adress", "av santos dumont"], ["delivery_service", "SEDEX"], ["total_value_RS", 127], ["line_items", "{\"sku: case-my-best-friend, model: iPhone X, case type: Rose Leather\"}"], ["status", "ready"], ["created_at", "2020-06-20 22:00:34.048104"], ["updated_at", "2020-06-20 22:00:34.048104"]]
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
Completed 500 Internal Server Error in 230ms (ActiveRecord: 119.3ms | Allocations: 8290)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "orders_pkey"
DETAIL:  Key (reference)=(5) already exists.
):
  
app/controllers/api/v1/orders_controller.rb:14:in `create'
Started GET "/api/v1/orders" for ::1 at 2020-06-20 19:01:02 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.4ms | Allocations: 2006)


Started GET "/api/v1/batch" for ::1 at 2020-06-20 19:01:12 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch"=>{}}
  [1m[36mBatch Load (0.4ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 3.5ms | Allocations: 3862)


Started POST "/api/v1/batch" for ::1 at 2020-06-20 19:19:40 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"], "batch"=>{"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"]}}
[31mUnpermitted parameter: :batch[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 4545)


  
NoMethodError (undefined method `orders' for #<Batch:0x00007fffd354de10>):
  
app/controllers/api/v1/batch_controller.rb:15:in `block in create'
app/controllers/api/v1/batch_controller.rb:14:in `each'
app/controllers/api/v1/batch_controller.rb:14:in `create'
Started POST "/api/v1/batch" for ::1 at 2020-06-20 19:19:52 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"], "batch"=>{"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"]}}
[31mUnpermitted parameter: :batch[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 49.9ms | Allocations: 4539)


  
NoMethodError (undefined method `order' for #<Batch:0x00007fffd44ddc68>):
  
app/controllers/api/v1/batch_controller.rb:15:in `block in create'
app/controllers/api/v1/batch_controller.rb:14:in `each'
app/controllers/api/v1/batch_controller.rb:14:in `create'
Started POST "/api/v1/batch" for ::1 at 2020-06-20 19:20:08 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"], "batch"=>{"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"]}}
[31mUnpermitted parameter: :batch[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 3.4ms | Allocations: 4596)


  
NoMethodError (undefined method `where' for #<Batch:0x00007fffd499a328>
Did you mean?  when):
  
app/controllers/api/v1/batch_controller.rb:15:in `block in create'
app/controllers/api/v1/batch_controller.rb:14:in `each'
app/controllers/api/v1/batch_controller.rb:14:in `create'
Started POST "/api/v1/batch" for ::1 at 2020-06-20 19:20:35 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"], "batch"=>{"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"]}}
[31mUnpermitted parameter: :batch[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 3.5ms | Allocations: 4604)


  
NoMethodError (undefined method `all' for #<Batch:0x00007fffd35d5c98>):
  
app/controllers/api/v1/batch_controller.rb:15:in `block in create'
app/controllers/api/v1/batch_controller.rb:14:in `each'
app/controllers/api/v1/batch_controller.rb:14:in `create'
Started POST "/api/v1/batch" for ::1 at 2020-06-20 19:20:51 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"], "batch"=>{"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"]}}
[31mUnpermitted parameter: :batch[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 3.1ms | Allocations: 4600)


  
NoMethodError (undefined method `find' for #<Batch:0x00007fbadcb455e8>):
  
app/controllers/api/v1/batch_controller.rb:15:in `block in create'
app/controllers/api/v1/batch_controller.rb:14:in `each'
app/controllers/api/v1/batch_controller.rb:14:in `create'
Started POST "/api/v1/batch" for ::1 at 2020-06-20 19:21:21 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"], "batch"=>{"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"]}}
[31mUnpermitted parameter: :batch[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 3.2ms | Allocations: 5608)


  
NoMethodError (undefined method `orders' for #<Class:0x00007fffd4802268>
Did you mean?  order):
  
app/controllers/api/v1/batch_controller.rb:15:in `block in create'
app/controllers/api/v1/batch_controller.rb:14:in `each'
app/controllers/api/v1/batch_controller.rb:14:in `create'
Started POST "/api/v1/batch" for ::1 at 2020-06-20 19:21:27 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"], "batch"=>{"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"]}}
[31mUnpermitted parameter: :batch[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 3.4ms | Allocations: 2797)


  
ArgumentError (The method .order() must contain arguments.):
  
app/controllers/api/v1/batch_controller.rb:15:in `block in create'
app/controllers/api/v1/batch_controller.rb:14:in `each'
app/controllers/api/v1/batch_controller.rb:14:in `create'
Started POST "/api/v1/batch" for ::1 at 2020-06-20 19:23:32 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"], "batch"=>{"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"]}}
[31mUnpermitted parameter: :batch[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 3.2ms | Allocations: 5637)


  
NoMethodError (undefined method `Order' for #<Class:0x00007fffd4e2cd00>):
  
app/controllers/api/v1/batch_controller.rb:15:in `block in create'
app/controllers/api/v1/batch_controller.rb:14:in `each'
app/controllers/api/v1/batch_controller.rb:14:in `create'
Started POST "/api/v1/batch" for ::1 at 2020-06-20 19:30:45 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"], "batch"=>{"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"]}}
[31mUnpermitted parameter: :batch[0m
Completed 500 Internal Server Error in 99ms (ActiveRecord: 8.5ms | Allocations: 4394)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column orders.referece does not exist
LINE 1: SELECT "orders".* FROM "orders" WHERE "orders"."referece" = ...
                                              ^
HINT:  Perhaps you meant to reference the column "orders.reference".
):
  
app/controllers/api/v1/batch_controller.rb:15:in `block in create'
app/controllers/api/v1/batch_controller.rb:14:in `each'
app/controllers/api/v1/batch_controller.rb:14:in `create'
Started POST "/api/v1/batch" for ::1 at 2020-06-20 19:31:20 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"], "batch"=>{"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"]}}
[31mUnpermitted parameter: :batch[0m
Completed 500 Internal Server Error in 18ms (ActiveRecord: 8.4ms | Allocations: 6755)


  
NoMethodError (undefined method `reference' for #<Class:0x00007fbadc2b1530>
Did you mean?  references):
  
app/controllers/api/v1/batch_controller.rb:15:in `block in create'
app/controllers/api/v1/batch_controller.rb:14:in `each'
app/controllers/api/v1/batch_controller.rb:14:in `create'
Started POST "/api/v1/batch" for ::1 at 2020-06-20 19:31:36 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"], "batch"=>{"reference"=>"5", "purchase_channel"=>"site br", "group_of_orders"=>["5"]}}
[31mUnpermitted parameter: :batch[0m
  [1m[36mOrder Load (75.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[36mOrder Update (179.8ms)[0m  [1m[33mUPDATE "orders" SET "status" = $1, "updated_at" = $2 WHERE "orders"."reference" = $3[0m  [["status", "production"], ["updated_at", "2020-06-20 22:31:36.215638"], ["reference", "2"]]
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (51.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[36mOrder Update (0.6ms)[0m  [1m[33mUPDATE "orders" SET "status" = $1, "updated_at" = $2 WHERE "orders"."reference" = $3[0m  [["status", "production"], ["updated_at", "2020-06-20 22:31:36.477953"], ["reference", "1"]]
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[36mOrder Update (0.5ms)[0m  [1m[33mUPDATE "orders" SET "status" = $1, "updated_at" = $2 WHERE "orders"."reference" = $3[0m  [["status", "production"], ["updated_at", "2020-06-20 22:31:36.484259"], ["reference", "5"]]
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:17:in `create'
  [1m[36mBatch Create (2.0ms)[0m  [1m[32mINSERT INTO "batches" ("reference", "purchase_channel", "group_of_orders", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "reference"[0m  [["reference", "5"], ["purchase_channel", "site br"], ["group_of_orders", "{5}"], ["created_at", "2020-06-20 22:31:36.490984"], ["updated_at", "2020-06-20 22:31:36.490984"]]
  ↳ app/controllers/api/v1/batch_controller.rb:17:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:17:in `create'
Completed 200 OK in 380ms (Views: 0.3ms | ActiveRecord: 317.7ms | Allocations: 20495)


Started GET "/api/v1/orders/5" for ::1 at 2020-06-20 19:31:52 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"id"=>"5", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.4ms | Allocations: 2063)


Started GET "/api/v1/orders/orders?reference=5" for ::1 at 2020-06-20 19:32:01 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"reference"=>"5", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1[0m  [["reference", "5"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 1303)


Started GET "/api/v1/orders/" for ::1 at 2020-06-20 19:34:11 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 4.0ms | Allocations: 7377)


Started POST "/api/v1/orders/" for ::1 at 2020-06-20 19:35:25 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"6", "purchase_channel"=>"site br", "client_name"=>"joao silva sauro", "adress"=>"av santos dumont 901", "delivery_service"=>"SEDEX", "total_value_RS"=>121, "line_items"=>["sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"], "status"=>"ready", "order"=>{"reference"=>"6", "purchase_channel"=>"site br", "client_name"=>"joao silva sauro", "adress"=>"av santos dumont 901", "delivery_service"=>"SEDEX", "total_value_RS"=>121, "line_items"=>["sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"], "status"=>"ready"}}
[31mUnpermitted parameter: :order[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("reference", "purchase_channel", "client_name", "adress", "delivery_service", "total_value_RS", "line_items", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "reference"[0m  [["reference", "6"], ["purchase_channel", "site br"], ["client_name", "joao silva sauro"], ["adress", "av santos dumont 901"], ["delivery_service", "SEDEX"], ["total_value_RS", 121], ["line_items", "{\"sku: case-my-best-friend, model: iPhone X, case type: Rose Leather\"}"], ["status", "ready"], ["created_at", "2020-06-20 22:35:25.264078"], ["updated_at", "2020-06-20 22:35:25.264078"]]
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 3000)


Started GET "/api/v1/orders/" for ::1 at 2020-06-20 19:35:28 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.5ms | Allocations: 2173)


Started POST "/api/v1/batch" for ::1 at 2020-06-20 19:36:00 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"6", "purchase_channel"=>"site br", "group_of_orders"=>["6"], "batch"=>{"reference"=>"6", "purchase_channel"=>"site br", "group_of_orders"=>["6"]}}
[31mUnpermitted parameter: :batch[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[36mOrder Update (0.3ms)[0m  [1m[33mUPDATE "orders" SET "status" = $1, "updated_at" = $2 WHERE "orders"."reference" = $3[0m  [["status", "production"], ["updated_at", "2020-06-20 22:36:00.044943"], ["reference", "6"]]
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:17:in `create'
  [1m[36mBatch Create (0.3ms)[0m  [1m[32mINSERT INTO "batches" ("reference", "purchase_channel", "group_of_orders", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "reference"[0m  [["reference", "6"], ["purchase_channel", "site br"], ["group_of_orders", "{6}"], ["created_at", "2020-06-20 22:36:00.049320"], ["updated_at", "2020-06-20 22:36:00.049320"]]
  ↳ app/controllers/api/v1/batch_controller.rb:17:in `create'
  [1m[35m (64.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:17:in `create'
Completed 200 OK in 85ms (Views: 0.4ms | ActiveRecord: 69.0ms | Allocations: 9482)


Started POST "/api/v1/orders" for ::1 at 2020-06-20 19:36:06 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"6", "purchase_channel"=>"site br", "group_of_orders"=>["6"], "order"=>{"reference"=>"6", "purchase_channel"=>"site br"}}
[31mUnpermitted parameters: :group_of_orders, :order[0m
Completed 422 Unprocessable Entity in 316ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3549)


Started GET "/api/v1/orders" for ::1 at 2020-06-20 19:36:10 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.4ms | Allocations: 2175)


Started GET "/api/v1/orders" for ::1 at 2020-06-20 19:55:20 -0300
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrdersController#index as */*
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (2.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 18ms (Views: 12.0ms | ActiveRecord: 7.1ms | Allocations: 8216)


Started POST "/api/v1/orders" for ::1 at 2020-06-20 20:14:41 -0300
Processing by Api::V1::OrdersController#create as JSON
  Parameters: {"reference"=>"6", "purchase_channel"=>"site br", "client_name"=>"joao silva", "adress"=>"av santos dumont", "delivery_service"=>"SEDEX", "total_value_RS"=>127, "line_items"=>["sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"], "status"=>"ready", "order"=>{"reference"=>"6", "purchase_channel"=>"site br", "client_name"=>"joao silva", "adress"=>"av santos dumont", "delivery_service"=>"SEDEX", "total_value_RS"=>127, "line_items"=>["sku: case-my-best-friend, model: iPhone X, case type: Rose Leather"], "status"=>"ready"}}
[31mUnpermitted parameter: :order[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[36mOrder Create (2.2ms)[0m  [1m[32mINSERT INTO "orders" ("reference", "purchase_channel", "client_name", "adress", "delivery_service", "total_value_RS", "line_items", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "reference"[0m  [["reference", "6"], ["purchase_channel", "site br"], ["client_name", "joao silva"], ["adress", "av santos dumont"], ["delivery_service", "SEDEX"], ["total_value_RS", 127], ["line_items", "{\"sku: case-my-best-friend, model: iPhone X, case type: Rose Leather\"}"], ["status", "ready"], ["created_at", "2020-06-20 23:14:41.655944"], ["updated_at", "2020-06-20 23:14:41.655944"]]
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/orders_controller.rb:14:in `create'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 2.7ms | Allocations: 8400)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "orders_pkey"
DETAIL:  Key (reference)=(6) already exists.
):
  
app/controllers/api/v1/orders_controller.rb:14:in `create'
Started GET "/api/v1/orders" for ::1 at 2020-06-20 20:14:46 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (1.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 1.9ms | Allocations: 2314)


Started GET "/api/v1/orders" for ::1 at 2020-06-20 20:22:34 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (2.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 2.0ms | Allocations: 2314)


Started GET "/api/v1/batch" for ::1 at 2020-06-20 20:22:55 -0300
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:30: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/api/v1/batch_controller.rb:30: syntax error, unexpected `end', expecting end-of-input
app/controllers/api/v1/batch_controller.rb:30: syntax error, unexpected `end', expecting end-of-input
Started GET "/api/v1/batch" for ::1 at 2020-06-20 20:23:27 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch"=>{}}
  [1m[36mBatch Load (2.1ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 63ms (Views: 57.0ms | ActiveRecord: 16.9ms | Allocations: 4236)


Started GET "/api/v1/orders" for ::1 at 2020-06-20 20:23:44 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 3.1ms | Allocations: 7560)


Started POST "/api/v1/batch" for ::1 at 2020-06-20 20:27:47 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site eua", "group_of_orders"=>["1", "2"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site eua", "group_of_orders"=>["1", "2"]}}
[31mUnpermitted parameter: :batch[0m
Completed 500 Internal Server Error in 117ms (ActiveRecord: 0.0ms | Allocations: 59853)


  
NameError (undefined local variable or method `group_of_orders' for #<Api::V1::BatchController:0x00007f8d2040b780>):
  
app/controllers/api/v1/batch_controller.rb:14:in `create'
Started POST "/api/v1/batch" for ::1 at 2020-06-20 20:29:52 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site eua", "group_of_orders"=>["1", "2"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site eua", "group_of_orders"=>["1", "2"]}}
[31mUnpermitted parameter: :batch[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 6.4ms | Allocations: 4313)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column orders.referece does not exist
LINE 1: SELECT "orders".* FROM "orders" WHERE "orders"."referece" = ...
                                              ^
HINT:  Perhaps you meant to reference the column "orders.reference".
):
  
app/controllers/api/v1/batch_controller.rb:15:in `block in create'
app/controllers/api/v1/batch_controller.rb:14:in `each'
app/controllers/api/v1/batch_controller.rb:14:in `create'
Started POST "/api/v1/batch" for ::1 at 2020-06-20 20:30:20 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"1", "purchase_channel"=>"site eua", "group_of_orders"=>["1", "2"], "batch"=>{"reference"=>"1", "purchase_channel"=>"site eua", "group_of_orders"=>["1", "2"]}}
[31mUnpermitted parameter: :batch[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1[0m  [["reference", "1"]]
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[36mOrder Update (0.5ms)[0m  [1m[33mUPDATE "orders" SET "status" = $1, "updated_at" = $2 WHERE "orders"."reference" = $3[0m  [["status", "production"], ["updated_at", "2020-06-20 23:30:20.319921"], ["reference", "1"]]
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1[0m  [["reference", "2"]]
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[36mOrder Update (0.3ms)[0m  [1m[33mUPDATE "orders" SET "status" = $1, "updated_at" = $2 WHERE "orders"."reference" = $3[0m  [["status", "production"], ["updated_at", "2020-06-20 23:30:20.327978"], ["reference", "2"]]
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (75.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:17:in `create'
  [1m[36mBatch Create (0.6ms)[0m  [1m[32mINSERT INTO "batches" ("reference", "purchase_channel", "group_of_orders", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "reference"[0m  [["reference", "1"], ["purchase_channel", "site eua"], ["group_of_orders", "{1,2}"], ["created_at", "2020-06-20 23:30:20.408110"], ["updated_at", "2020-06-20 23:30:20.408110"]]
  ↳ app/controllers/api/v1/batch_controller.rb:17:in `create'
  [1m[35m (78.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:17:in `create'
Completed 200 OK in 195ms (Views: 0.4ms | ActiveRecord: 163.5ms | Allocations: 18171)


Started GET "/api/v1/orders" for ::1 at 2020-06-20 20:30:26 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.5ms | Allocations: 2191)


Started POST "/api/v1/batch" for ::1 at 2020-06-20 20:32:25 -0300
Processing by Api::V1::BatchController#create as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"], "batch"=>{"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"]}}
[31mUnpermitted parameter: :batch[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2)[0m  [["reference", "5"], ["reference", "6"]]
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
  [1m[36mOrder Update (0.5ms)[0m  [1m[33mUPDATE "orders" SET "status" = $1, "updated_at" = $2 WHERE "orders"."reference" = $3[0m  [["status", "production"], ["updated_at", "2020-06-20 23:32:25.328634"], ["reference", "5"]]
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
  [1m[35m (23.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
  [1m[36mOrder Update (0.3ms)[0m  [1m[33mUPDATE "orders" SET "status" = $1, "updated_at" = $2 WHERE "orders"."reference" = $3[0m  [["status", "production"], ["updated_at", "2020-06-20 23:32:25.358062"], ["reference", "6"]]
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:14:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `create'
  [1m[36mBatch Create (0.3ms)[0m  [1m[32mINSERT INTO "batches" ("reference", "purchase_channel", "group_of_orders", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "reference"[0m  [["reference", "2"], ["purchase_channel", "site br"], ["group_of_orders", "{5,6}"], ["created_at", "2020-06-20 23:32:25.363105"], ["updated_at", "2020-06-20 23:32:25.363105"]]
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `create'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:15:in `create'
Completed 200 OK in 62ms (Views: 0.4ms | ActiveRecord: 32.8ms | Allocations: 17417)


Started GET "/api/v1/orders" for ::1 at 2020-06-20 20:32:31 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.4ms | Allocations: 2190)


Started GET "/api/v1/batch" for ::1 at 2020-06-20 22:21:52 -0300
  [1m[35m (29.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:32: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/api/v1/batch_controller.rb:32: syntax error, unexpected end-of-input, expecting `end'
app/controllers/api/v1/batch_controller.rb:32: syntax error, unexpected end-of-input, expecting `end'
Started GET "/api/v1/batch" for ::1 at 2020-06-20 22:22:06 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch"=>{}}
  [1m[36mBatch Load (143.5ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 155ms (Views: 7.4ms | ActiveRecord: 149.5ms | Allocations: 4137)


Started PUT "/api/v1/batch/batch?reference=2" for ::1 at 2020-06-20 22:22:21 -0300
Processing by Api::V1::BatchController#update as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"], "id"=>"batch", "batch"=>{"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"]}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (0.8ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 AND "batches"."purchase_channel" = $2 AND "batches"."group_of_orders" = $3 LIMIT $4[0m  [["reference", "2"], ["purchase_channel", "site br"], ["group_of_orders", "{5,6}"], ["LIMIT", 11]]
Completed 500 Internal Server Error in 96ms (ActiveRecord: 0.0ms | Allocations: 4057)


  [1m[36mCACHE Batch Load (0.0ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 AND "batches"."purchase_channel" = $2 AND "batches"."group_of_orders" = $3 LIMIT $4[0m  [["reference", "2"], ["purchase_channel", "site br"], ["group_of_orders", "{5,6}"], ["LIMIT", 11]]
  
NoMethodError (undefined method `group_of_orders' for #<Batch::ActiveRecord_Relation:0x00007fffe040c0a8>
Did you mean?  group_values):
  
app/controllers/api/v1/batch_controller.rb:25:in `update'
  [1m[36mCACHE Batch Load (0.0ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 AND "batches"."purchase_channel" = $2 AND "batches"."group_of_orders" = $3 LIMIT $4[0m  [["reference", "2"], ["purchase_channel", "site br"], ["group_of_orders", "{5,6}"], ["LIMIT", 11]]
Started PUT "/api/v1/batch/2/close" for ::1 at 2020-06-20 22:23:33 -0300
  
ActionController::RoutingError (No route matches [PUT] "/api/v1/batch/2/close"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started PUT "/api/v1/batch/2" for ::1 at 2020-06-20 22:23:45 -0300
Processing by Api::V1::BatchController#update as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"], "id"=>"2", "batch"=>{"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"]}}
  [1m[36mBatch Load (0.2ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "2"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:24:in `update'
  [1m[36mOrder Load (2.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2)[0m  [["reference", "5"], ["reference", "6"]]
  ↳ app/controllers/api/v1/batch_controller.rb:25:in `update'
  [1m[35m (36.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:25:in `update'
  [1m[36mOrder Update (63.4ms)[0m  [1m[33mUPDATE "orders" SET "status" = $1, "updated_at" = $2 WHERE "orders"."reference" = $3[0m  [["status", "closing"], ["updated_at", "2020-06-21 01:23:45.163505"], ["reference", "5"]]
  ↳ app/controllers/api/v1/batch_controller.rb:25:in `update'
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:25:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:25:in `update'
  [1m[36mOrder Update (0.4ms)[0m  [1m[33mUPDATE "orders" SET "status" = $1, "updated_at" = $2 WHERE "orders"."reference" = $3[0m  [["status", "closing"], ["updated_at", "2020-06-21 01:23:45.271085"], ["reference", "6"]]
  ↳ app/controllers/api/v1/batch_controller.rb:25:in `update'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:25:in `update'
Completed 204 No Content in 146ms (ActiveRecord: 111.7ms | Allocations: 16063)


Started GET "/api/v1/batch" for ::1 at 2020-06-20 22:24:01 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch"=>{}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 1218)


Started GET "/api/v1/orders" for ::1 at 2020-06-20 22:24:10 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.5ms | Allocations: 2191)


Started GET "/api/v1/orders" for ::1 at 2020-06-21 20:39:39 -0300
  [1m[35m (49.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (17.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 34ms (Views: 11.9ms | ActiveRecord: 24.1ms | Allocations: 8214)


Started GET "/api/v1/batches" for ::1 at 2020-06-21 20:39:58 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/batches"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/batch" for ::1 at 2020-06-21 20:40:06 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch"=>{}}
  [1m[36mBatch Load (87.7ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 97ms (Views: 7.5ms | ActiveRecord: 90.9ms | Allocations: 3792)


Started GET "/api/v1/orders" for ::1 at 2020-06-21 20:41:10 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms | Allocations: 2192)


Started POST "/api/v1/batch/2/orders/orders?delivery_service=SEDEX" for ::1 at 2020-06-21 20:41:20 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/batch/2/orders/orders"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/batch/2/orders?delivery_service=SEDEX" for ::1 at 2020-06-21 20:41:41 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/batch/2/orders"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/batch/2/order?delivery_service=SEDEX" for ::1 at 2020-06-21 21:05:10 -0300
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/api/v1/batch/2/order"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/batch/2" for ::1 at 2020-06-21 21:05:21 -0300
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected end-of-input, expecting `end'
app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected end-of-input, expecting `end'
Started GET "/api/v1/batch/2" for ::1 at 2020-06-21 21:05:32 -0300
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected end-of-input, expecting `end'
app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected end-of-input, expecting `end'
Started GET "/api/v1/batch/2" for ::1 at 2020-06-21 21:10:02 -0300
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"id"=>"2", "batch"=>{}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (1.8ms)[0m  [1m[34mSELECT "batches".* FROM "batches"[0m
  ↳ app/controllers/api/v1/batch_controller.rb:10:in `show'
Completed 200 OK in 13ms (Views: 6.7ms | ActiveRecord: 7.6ms | Allocations: 4189)


Started POST "/api/v1/batch/2/orders?delivery_service=SEDEX" for ::1 at 2020-06-21 21:10:31 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/batch/2/orders"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/batch" for ::1 at 2020-06-21 21:42:55 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch"=>{}}
  [1m[36mBatch Load (2.4ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 2.4ms | Allocations: 3782)


Started GET "/api/v1/orders" for ::1 at 2020-06-21 21:43:00 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (2.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 26ms (Views: 18.2ms | ActiveRecord: 16.3ms | Allocations: 7875)


Started GET "/api/v1/batch" for ::1 at 2020-06-21 21:43:07 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch"=>{}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 1226)


Started POST "/api/v1/batch/1" for ::1 at 2020-06-21 21:43:17 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/batch/1"):
  
actionpack (6.0.3.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.1) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.1) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 21:43:51 -0300
Processing by Api::V1::BatchController#update as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"], "id"=>"1", "batch"=>{"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"]}}
  [1m[36mBatch Load (86.1ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:24:in `update'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2) LIMIT $3[0m  [["reference", "1"], ["reference", "2"], ["LIMIT", 11]]
Completed 500 Internal Server Error in 625ms (ActiveRecord: 136.0ms | Allocations: 13059)


  [1m[36mCACHE Order Load (0.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2) LIMIT $3[0m  [["reference", "1"], ["reference", "2"], ["LIMIT", 11]]
  
NoMethodError (undefined method `status' for #<Order::ActiveRecord_Relation:0x00007f22883a0780>):
  
app/controllers/api/v1/batch_controller.rb:25:in `update'
  [1m[36mCACHE Order Load (0.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2) LIMIT $3[0m  [["reference", "1"], ["reference", "2"], ["LIMIT", 11]]
Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 21:44:40 -0300
Processing by Api::V1::BatchController#update as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"], "id"=>"1", "batch"=>{"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"]}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:24:in `update'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2)[0m  [["reference", "1"], ["reference", "2"]]
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
  [1m[36mOrder Update (31.0ms)[0m  [1m[33mUPDATE "orders" SET "status" = $1, "updated_at" = $2 WHERE "orders"."reference" = $3[0m  [["status", "closing"], ["updated_at", "2020-06-22 00:44:40.688270"], ["reference", "1"]]
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
  [1m[35m (13.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
  [1m[36mOrder Update (0.3ms)[0m  [1m[33mUPDATE "orders" SET "status" = $1, "updated_at" = $2 WHERE "orders"."reference" = $3[0m  [["status", "closing"], ["updated_at", "2020-06-22 00:44:40.849687"], ["reference", "2"]]
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
Completed 500 Internal Server Error in 302ms (ActiveRecord: 52.0ms | Allocations: 75370)


  
NameError (undefined local variable or method `ok' for #<Api::V1::BatchController:0x00007f2288426678>):
  
app/controllers/api/v1/batch_controller.rb:27:in `update'
Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 21:45:06 -0300
Processing by Api::V1::BatchController#update as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"], "id"=>"1", "batch"=>{"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"]}}
  [1m[36mBatch Load (0.2ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:24:in `update'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2)[0m  [["reference", "1"], ["reference", "2"]]
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 6.5ms | Allocations: 11122)


Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 21:45:16 -0300
Processing by Api::V1::BatchController#update as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"], "id"=>"1", "batch"=>{"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"]}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:24:in `update'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2)[0m  [["reference", "1"], ["reference", "2"]]
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1907)


Started GET "/api/v1/batch" for ::1 at 2020-06-21 21:45:25 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch"=>{}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.3ms | Allocations: 1213)


Started GET "/api/v1/orders" for ::1 at 2020-06-21 21:45:28 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.6ms | Allocations: 2192)


Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 21:45:54 -0300
Processing by Api::V1::BatchController#update as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"], "id"=>"1", "batch"=>{"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"]}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:24:in `update'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2)[0m  [["reference", "1"], ["reference", "2"]]
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1903)


Started GET "/api/v1/orders" for ::1 at 2020-06-21 21:45:59 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.5ms | Allocations: 2177)


Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 21:46:42 -0300
Processing by Api::V1::BatchController#update as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"], "id"=>"1", "batch"=>{"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"]}}
  [1m[36mBatch Load (0.5ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:24:in `update'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2)[0m  [["reference", "1"], ["reference", "2"]]
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 9.8ms | Allocations: 11089)


Started GET "/api/v1/orders" for ::1 at 2020-06-21 21:46:45 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.4ms | Allocations: 2194)


Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 21:48:40 -0300
  [1m[35m (3.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BatchController#update as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"], "id"=>"1", "batch"=>{"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"]}}
  [1m[36mBatch Load (1.6ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:24:in `update'
  [1m[36mOrder Load (2.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2)[0m  [["reference", "1"], ["reference", "2"]]
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
Completed 200 OK in 36ms (Views: 0.3ms | ActiveRecord: 12.8ms | Allocations: 12353)


Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 21:50:10 -0300
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected '=', expecting `then' or ';' or '\n'
...rence: batch.group_of_orders) = Order.where(reference: batch...
...                              ^
/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:28: else without rescue is useless
				else
				^~~~
/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected '=', expecting `then' or ';' or '\n'
...rence: batch.group_of_orders) = Order.where(reference: batch...
...                              ^
/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected `end', expecting end-of-input
  end
  ^~~
):
  
app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected '=', expecting `then' or ';' or '\n'
app/controllers/api/v1/batch_controller.rb:28: else without rescue is useless
app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected '=', expecting `then' or ';' or '\n'
app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected `end', expecting end-of-input
app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected '=', expecting `then' or ';' or '\n'
app/controllers/api/v1/batch_controller.rb:28: else without rescue is useless
app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected '=', expecting `then' or ';' or '\n'
app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected `end', expecting end-of-input
Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 21:50:37 -0300
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected '=', expecting `then' or ';' or '\n'
...erence: batch.group_of_orders)=Order.where(reference: batch....
...                              ^
/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:28: else without rescue is useless
				else
				^~~~
/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected '=', expecting `then' or ';' or '\n'
...erence: batch.group_of_orders)=Order.where(reference: batch....
...                              ^
/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected `end', expecting end-of-input
  end
  ^~~
):
  
app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected '=', expecting `then' or ';' or '\n'
app/controllers/api/v1/batch_controller.rb:28: else without rescue is useless
app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected '=', expecting `then' or ';' or '\n'
app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected `end', expecting end-of-input
app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected '=', expecting `then' or ';' or '\n'
app/controllers/api/v1/batch_controller.rb:28: else without rescue is useless
app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected '=', expecting `then' or ';' or '\n'
app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected `end', expecting end-of-input
Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 21:52:13 -0300
Processing by Api::V1::BatchController#update as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"], "id"=>"1", "batch"=>{"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"]}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:24:in `update'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2)[0m  [["reference", "1"], ["reference", "2"]]
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 7.5ms | Allocations: 11132)


Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 21:52:24 -0300
Processing by Api::V1::BatchController#update as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"], "id"=>"1", "batch"=>{"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"]}}
  [1m[36mBatch Load (0.2ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:24:in `update'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2)[0m  [["reference", "1"], ["reference", "2"]]
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 7.6ms | Allocations: 11118)


Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 21:59:38 -0300
Processing by Api::V1::BatchController#update as JSON
  Parameters: {"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"], "id"=>"1", "batch"=>{"reference"=>"2", "purchase_channel"=>"site br", "group_of_orders"=>["5", "6"]}}
  [1m[36mBatch Load (2.0ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/batch_controller.rb:24:in `update'
  [1m[36mOrder Load (3.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" IN ($1, $2)[0m  [["reference", "1"], ["reference", "2"]]
  ↳ app/controllers/api/v1/batch_controller.rb:26:in `update'
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 5.7ms | Allocations: 11024)


Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 22:02:08 -0300
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:28: syntax error, unexpected '\n', expecting '.' or &. or :: or '['
/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected '\n', expecting '.' or &. or :: or '['
/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/api/v1/batch_controller.rb:28: syntax error, unexpected '\n', expecting '.' or &. or :: or '['
app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected '\n', expecting '.' or &. or :: or '['
app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected `end', expecting end-of-input
app/controllers/api/v1/batch_controller.rb:28: syntax error, unexpected '\n', expecting '.' or &. or :: or '['
app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected '\n', expecting '.' or &. or :: or '['
app/controllers/api/v1/batch_controller.rb:40: syntax error, unexpected `end', expecting end-of-input
Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 22:04:51 -0300
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected `in', expecting '.' or &. or :: or '['
....where(status: "production") in Order.where(reference: batch...
...                             ^~
/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected `in', expecting '.' or &. or :: or '['
...der.where(status: "closing") in Order.where(reference: batch...
...                             ^~
):
  
app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected `in', expecting '.' or &. or :: or '['
app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected `in', expecting '.' or &. or :: or '['
app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected `in', expecting '.' or &. or :: or '['
app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected `in', expecting '.' or &. or :: or '['
Started PUT "/api/v1/batch/1" for ::1 at 2020-06-21 22:05:38 -0300
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected `in', expecting '.' or &. or :: or '['
...where(status: "production")] in [Order.where(reference: batc...
...                             ^~
/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected `do', expecting `end'
...nce: batch.group_of_orders)] do
...                             ^~
/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected `in', expecting '.' or &. or :: or '['
...er.where(status: "closing")] in [Order.where(reference: batc...
...                             ^~
/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected `do', expecting `end'
...nce: batch.group_of_orders)] do
...                             ^~
/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:39: syntax error, unexpected `end', expecting end-of-input
  end
  ^~~
):
  
app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected `in', expecting '.' or &. or :: or '['
app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected `do', expecting `end'
app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected `in', expecting '.' or &. or :: or '['
app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected `do', expecting `end'
app/controllers/api/v1/batch_controller.rb:39: syntax error, unexpected `end', expecting end-of-input
app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected `in', expecting '.' or &. or :: or '['
app/controllers/api/v1/batch_controller.rb:25: syntax error, unexpected `do', expecting `end'
app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected `in', expecting '.' or &. or :: or '['
app/controllers/api/v1/batch_controller.rb:29: syntax error, unexpected `do', expecting `end'
app/controllers/api/v1/batch_controller.rb:39: syntax error, unexpected `end', expecting end-of-input
Started GET "/api/v1/orders" for ::1 at 2020-06-21 22:23:06 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"order"=>{}}
  [1m[36mOrder Load (1.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 19ms (Views: 13.6ms | ActiveRecord: 15.5ms | Allocations: 8241)


Started GET "/api/v1/orders/orders?client_name=rogerio%20lima" for ::1 at 2020-06-22 12:37:32 -0300
  [1m[35m (41.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"client_name"=>"rogerio lima", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (2.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" = $1[0m  [["client_name", "rogerio lima"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 47ms (Views: 40.3ms | ActiveRecord: 9.2ms | Allocations: 7635)


Started GET "/api/v1/orders/orders?client_name=anna%20julia" for ::1 at 2020-06-22 12:37:40 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"client_name"=>"anna julia", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."client_name" = $1[0m  [["client_name", "anna julia"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 1317)


Started GET "/api/v1/orders/orders?reference=1" for ::1 at 2020-06-22 12:39:51 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"reference"=>"1", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."reference" = $1[0m  [["reference", "1"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.5ms | Allocations: 1325)


Started GET "/api/v1/orders/orders?status=production" for ::1 at 2020-06-22 12:41:28 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"production", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "production"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 1113)


Started GET "/api/v1/orders?status=ready" for ::1 at 2020-06-22 12:41:35 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"status"=>"ready", "order"=>{}}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.6ms | Allocations: 2199)


Started GET "/api/v1/orders?status=ready" for ::1 at 2020-06-22 12:41:42 -0300
Processing by Api::V1::OrdersController#index as JSON
  Parameters: {"status"=>"ready", "order"=>{}}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/orders_controller.rb:6:in `index'
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.4ms | Allocations: 2175)


Started GET "/api/v1/orders/orders?status=ready" for ::1 at 2020-06-22 12:41:53 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ready"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms | Allocations: 1506)


Started GET "/api/v1/orders/orders?status=ready/orders?purchase_channel%20=%20site%20EU" for ::1 at 2020-06-22 12:42:23 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready/orders?purchase_channel = site EU", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ready/orders?purchase_channel = site EU"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 1090)


Started GET "/api/v1/orders/orders?status=ready/orders?purchase_channel%20=%20site%20br" for ::1 at 2020-06-22 12:42:29 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready/orders?purchase_channel = site br", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ready/orders?purchase_channel = site br"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.4ms | Allocations: 1090)


Started GET "/api/v1/orders/orders?status=ready?purchase_channel%20=%20site%20br" for ::1 at 2020-06-22 12:42:39 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready?purchase_channel = site br", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ready?purchase_channel = site br"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 1090)


Started GET "/api/v1/orders/orders?status=ready" for ::1 at 2020-06-22 12:42:45 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ready"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 1506)


Started GET "/api/v1/orders/orders?status=ready/orders?purchase_channel%20=%20site%20EU" for ::1 at 2020-06-22 12:43:00 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready/orders?purchase_channel = site EU", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ready/orders?purchase_channel = site EU"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 1090)


Started GET "/api/v1/orders/orders?status=ready?purchase_channel%20=%20site%20EU" for ::1 at 2020-06-22 12:44:50 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready?purchase_channel = site EU", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ready?purchase_channel = site EU"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms | Allocations: 1090)


Started GET "/api/v1/orders/orders?status=ready?purchase_channel=site%20EU" for ::1 at 2020-06-22 12:45:01 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready?purchase_channel=site EU", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ready?purchase_channel=site EU"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 1090)


Started GET "/api/v1/orders/orders?status=ready&purchase_channel=site%20EU" for ::1 at 2020-06-22 12:46:49 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready", "purchase_channel"=>"site EU", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."purchase_channel" = $1 AND "orders"."status" = $2[0m  [["purchase_channel", "site EU"], ["status", "ready"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.3ms | Allocations: 1328)


Started GET "/api/v1/orders/orders?status=ready&purchase_channel=site%20us" for ::1 at 2020-06-22 12:46:55 -0300
Processing by Api::V1::OrdersController#show as JSON
  Parameters: {"status"=>"ready", "purchase_channel"=>"site us", "id"=>"orders", "order"=>{}}
[31mUnpermitted parameters: :id, :order[0m
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."purchase_channel" = $1 AND "orders"."status" = $2[0m  [["purchase_channel", "site us"], ["status", "ready"]]
  ↳ app/controllers/api/v1/orders_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 1324)


Started GET "/api/v1/batch/?batch?reference=1" for ::1 at 2020-06-22 13:05:01 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch?reference"=>"1", "batch"=>{}}
  [1m[36mBatch Load (76.9ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 87ms (Views: 6.8ms | ActiveRecord: 88.0ms | Allocations: 3864)


Started GET "/api/v1/batch/?batch?reference=1" for ::1 at 2020-06-22 13:05:25 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch?reference"=>"1", "batch"=>{}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1208)


Started GET "/api/v1/batch/?batch?reference=1" for ::1 at 2020-06-22 13:05:41 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch?reference"=>"1", "batch"=>{}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 6.8ms | Allocations: 3709)


Started GET "/api/v1/batch/?batch?reference=1" for ::1 at 2020-06-22 13:05:54 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch?reference"=>"1", "batch"=>{}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1207)


Started GET "/api/v1/batch/?batch?reference=1" for ::1 at 2020-06-22 13:06:22 -0300
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch?reference"=>"1", "batch"=>{}}
  [1m[36mBatch Load (1.5ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 6.4ms | Allocations: 4130)


Started GET "/api/v1/batch/1" for ::1 at 2020-06-22 13:06:32 -0300
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"id"=>"1", "batch"=>{}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches"[0m
  ↳ app/controllers/api/v1/batch_controller.rb:10:in `show'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 1289)


Started GET "/api/v1/batch/" for ::1 at 2020-06-22 13:06:34 -0300
Processing by Api::V1::BatchController#index as JSON
  Parameters: {"batch"=>{}}
  [1m[36mBatch Load (0.3ms)[0m  [1m[34mSELECT "batches".* FROM "batches" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/batch_controller.rb:6:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 1226)


Started GET "/api/v1/batch/batch?reference=1" for ::1 at 2020-06-22 13:07:24 -0300
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"reference"=>"1", "id"=>"batch", "batch"=>{}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (0.2ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1[0m  [["reference", "1"]]
  ↳ app/controllers/api/v1/batch_controller.rb:10:in `show'
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 4.1ms | Allocations: 4016)


Started GET "/api/v1/batch/batch?reference=1" for ::1 at 2020-06-22 13:08:19 -0300
  
SyntaxError (/mnt/c/sites/restapi/app/controllers/api/v1/batch_controller.rb:13: syntax error, unexpected '}', expecting =>
...e:'Loaded batch', data:batch,c},status: :ok
...                              ^
):
  
app/controllers/api/v1/batch_controller.rb:13: syntax error, unexpected '}', expecting =>
app/controllers/api/v1/batch_controller.rb:13: syntax error, unexpected '}', expecting =>
Started GET "/api/v1/batch/batch?reference=1" for ::1 at 2020-06-22 13:09:02 -0300
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"reference"=>"1", "id"=>"batch", "batch"=>{}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (73.1ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 11]]
Completed 500 Internal Server Error in 173ms (ActiveRecord: 2.2ms | Allocations: 5609)


  [1m[36mCACHE Batch Load (0.0ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 11]]
  
NoMethodError (undefined method `group_of_orders' for #<Batch::ActiveRecord_Relation:0x00007f2fd00a14a8>
Did you mean?  group_values):
  
app/controllers/api/v1/batch_controller.rb:10:in `show'
  [1m[36mCACHE Batch Load (0.0ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 11]]
Started GET "/api/v1/batch/batch?reference=1" for ::1 at 2020-06-22 13:09:58 -0300
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"reference"=>"1", "id"=>"batch", "batch"=>{}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (0.2ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 11]]
Completed 500 Internal Server Error in 14ms (ActiveRecord: 2.0ms | Allocations: 5562)


  [1m[36mCACHE Batch Load (0.0ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 11]]
  
NoMethodError (undefined method `group_of_orders' for #<Batch::ActiveRecord_Relation:0x00007f2fd0241c68>
Did you mean?  group_values):
  
app/controllers/api/v1/batch_controller.rb:10:in `show'
  [1m[36mCACHE Batch Load (0.0ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1 LIMIT $2[0m  [["reference", "1"], ["LIMIT", 11]]
Started GET "/api/v1/batch/batch?reference=1" for ::1 at 2020-06-22 13:10:15 -0300
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"reference"=>"1", "id"=>"batch", "batch"=>{}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (0.2ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."reference" = $1[0m  [["reference", "1"]]
  ↳ app/controllers/api/v1/batch_controller.rb:10:in `show'
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 3.8ms | Allocations: 3725)


Started GET "/api/v1/batch/batch?purchase_channel=site%20eua" for ::1 at 2020-06-22 13:11:15 -0300
Processing by Api::V1::BatchController#show as JSON
  Parameters: {"purchase_channel"=>"site eua", "id"=>"batch", "batch"=>{}}
[31mUnpermitted parameters: :id, :batch[0m
  [1m[36mBatch Load (0.2ms)[0m  [1m[34mSELECT "batches".* FROM "batches" WHERE "batches"."purchase_channel" = $1[0m  [["purchase_channel", "site eua"]]
  ↳ app/controllers/api/v1/batch_controller.rb:10:in `show'
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 3.7ms | Allocations: 3713)


